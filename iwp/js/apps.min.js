var totalWindowHeight="";var totalWindowWidth="";var bottomFullBar=0;var reloadStatsControl=1;var dpConsumerKey="";var dpConsumerSecret="";var scheduleAddonFlag="";var repositoryAddonFlag="";var installCloneAddonFlag="";var forceBackup=0;var manage={};var activeItem="plugins";var g1="w1,w2,w3,w4";var timeOut="";var selectedGroup={};var groupEditFlag=0;var incrementRand=0;var siteSelectorVar="";var bottomToolbarVar="";var currentPage="";var ajaxCallPath="ajax.php";var groupCounter=0;var groupCreateArray={};var groupChangeArray={};var groupNameArray={};var groupDeleteArray={};var usernameTemp,passwordTemp;var currentPage="updates";var state;var currentUpdatePage;var parentFlag=0;var updateCheckArray={};var viewHiddenFlag=0;var toobarAddsite="";var toobarHiddenUpdates="";var historyRefreshCheckFlag=0;var stopAllAction=false;var notNowUpdate=false;var clientUpdateSites=false;var updateAvailable;var siteSelectorRestrictVar;var formArrayVar={};var runOffBrowser=0;var clientPluginBrandingSettings;var tempConfirmObject;var recentLength=0;var historyRefreshInterval,historyRefreshIntervalFlag=0;var bottom_count=0;var groupOperationFlag=1;var historyDetailRefreshFlag=false;var currentGroupID=0;var tempTimeOut=1;var wpRepositoryFlag=0;var notInstalledSiteID=0;var test_count=0;var check_fsock="";var pauseCallRefreshCount=0;var showBrowserCloseWarning=0;var manageEasyCronActive=false;var systemCronTimeSettings=false;var loadUpdateNotificationPopupShown=0;var total_url_parts=0;var myVar;var timeZones={};var runningAjaxRequest=[];var restrictUpdatePageFlag="";var restrictAddEditDeleteSiteFlag="";var restrictToggleOpenAdminFlag="";var restrictToggleCreateBackupFlag="";var restrictTogglerestoreDeleteDownloadBackupFlag="";var numberOfSitesForUser=0;var scheduleBackupNowRestrictToggleFlag="";var permissions="";var lastBottomLineContent="";var lastBottomLinePage="";function echeck(g){var a="@";var b=".";var f=g.indexOf(a);var c=g.length;var d=g.indexOf(b);if(g.indexOf(a)==-1){return false}if(g.indexOf(a)==-1||g.indexOf(a)==0||g.indexOf(a)==c){return false}if(g.indexOf(b)==-1||g.indexOf(b)==0||g.indexOf(b)==c){return false}if(g.indexOf(a,(f+1))!=-1){return false}if(g.substring(f-1,f)==b||g.substring(f+1,f+2)==b){return false}if(g.indexOf(b,(f+2))==-1){return false}if(g.indexOf(" ")!=-1){return false}return true}Date.prototype.addDays=function(a){this.setDate(this.getDate()+a);return this};String.prototype.Trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")};String.prototype.toTitleCase=function(){var a=/^(a|an|and|as|at|but|by|en|for|if|in|of|on|or|the|to|vs?\.?|via)$/i;return this.replace(/([^\W_]+[^\s-]*) */g,function(c,f,b,d){if(b>0&&b+f.length!==d.length&&f.search(a)>-1&&d.charAt(b-2)!==":"&&d.charAt(b-1).search(/[^\s-]/)<0){return c.toLowerCase()}if(f.substr(1).search(/[A-Z]|\../)>-1){return c}return c.charAt(0).toUpperCase()+c.substr(1)})};function isNumber(a){return !isNaN(parseFloat(a))&&isFinite(a)}function getPropertyCount(c){var b=0,a;for(a in c){if(c.hasOwnProperty(a)){b++}}return b}function addNumber(a,c,b){if(typeof b=="undefined"){b=1}if($(".dialog_cont #backupTotal").val()==""||$(".dialog_cont #backupTotal").val()=="0"){$(".dialog_cont #backupTotal").val("1")}if($(a).hasClass("incr")){type=1}else{if($(a).hasClass("decr")){type=0}}val=$("#"+c).val();if(type==0&&val!=1&&val!=0){$("#"+c).val(parseInt(val)-b)}else{if(type==1){$("#"+c).val(parseInt(val)+b)}}}function centerDialog(){$("#modalDiv").dialog({width:"auto",modal:true,position:"center",resizable:false})}function bottomToolBarShow(){dynamicResize()}function bottomToolBarHide(){$("#bottom_sites_cont").hide();$(".showFooterSelector").removeClass("pressed");$("#dynamic_resize").css("margin-left","0")}function dynamicResize(a){if(a==undefined){a=0}if($('[role="dialog"]').is(":visible")&&a==0){return false}var c=$(window).height();var d=$(window).width();var b=Math.round(d/2);if(d<1400){$(".social_love").hide()}else{$(".social_love").show()}if(d>=1250){bottomFullBar=1;$("#dynamic_resize").css({"margin-left":"260px"});$("#bottom_toolbar #bottom_sites_cont").height(c-32).css("margin-top","-"+(c-35)+"px").show();$("#bottom_toolbar #bottom_sites_cont #bottom_left,#bottom_toolbar #bottom_sites_cont #bottom_right").height(c-34);$("#bottom_toolbar #bottom_sites_cont .list_cont").height(c-112);$("#bottomToolBarSelector .bg_yellow").removeClass("bg_yellow");$(".showFooterSelector").addClass("pressed");var f=parseInt(b)+parseInt(130);$("#loadingDiv").css("left",f)}else{bottomFullBar=0;$("#dynamic_resize").css({"margin-left":"0"});$("#bottom_toolbar #bottom_sites_cont").height(401).css("margin-top","-400px").show();$("#bottom_toolbar #bottom_sites_cont #bottom_left,#bottom_toolbar #bottom_sites_cont #bottom_right").height(401);$("#bottom_toolbar #bottom_sites_cont .list_cont").height(324);$("#loadingDiv").css("left",b)}}function closeDialogs(b,a){if($("#ui-tooltip-manageGroupsQtip").length>0){$(".toggle_manage_groups").qtip("destroy")}if(groupEditFlag!=1&&bottomFullBar!=1){$("#bottom_sites_cont").hide();resetBottomToolbar()}$("#historyQueue").hide();if($("#settings_cont").is(":visible")&&b!=2){$("#settings_btn").removeClass("active");$("#settings_cont").hide()}if($("#updates_centre_cont").is(":visible")&&stopAllAction!=true&&b!=1){$("#updateCentreBtn").removeClass("active");$("#updates_centre_cont").hide()}if($(".notification_centre_cont").is(":visible")){$(".notification_centre_cont").hide();$(".notif_btn").removeClass("active")}if(scheduleAddonFlag==1){$(".dialog_cont .time_select_options").hide()}$(".dropdownToggle").hide();$(".dropdown_btn").removeClass("open")}function loadFixedNotifications(){if(fixedNotifications!=null&&fixedNotifications!=undefined&&getPropertyCount(fixedNotifications)>0){$.each(fixedNotifications,function(b,a){$(".notification_cont").append('<div class="notification '+a.type.toLowerCase()+'"><div class="notif_title">&nbsp;&nbsp;&nbsp;'+a.title+'</div><div class="notif_body">'+a.message+'</div><div class="n_close"></div></div>')})}}function processFireQueue(){if(typeof fireQueue=="undefined"){return false}if(typeof fireQueue.stagingCompleted!="undefined"){stagingProcessFireQueue()}if(typeof fireQueue.installCloneCompleted!="undefined"){installCloneProcessFireQueue()}}function checkUpdateEmpty(){if($("#siteViewUpdateContent .ind_row_cont").not(".hide,.hideVar").length<1&&$("#siteViewUpdateContent .empty_data_set").not(".hiddenCheck").css("display")=="none"){$("#siteViewUpdateContent .hiddenCheck").show()}if($("#themeViewUpdateContent .ind_row_cont").not(".hide,.hideVar").length<1&&$("#themeViewUpdateContent .empty_data_set").not(".hiddenCheck").css("display")=="none"){$("#themeViewUpdateContent .hiddenCheck").show()}if($("#pluginViewUpdateContent .ind_row_cont").not(".hide,.hideVar").length<1&&$("#pluginViewUpdateContent .empty_data_set").not(".hiddenCheck").css("display")=="none"){$("#pluginViewUpdateContent .hiddenCheck").show()}if($("#WPViewUpdateContent .ind_row_cont").not(".hide,.hideVar").length<1&&$("#WPViewUpdateContent .empty_data_set").not(".hiddenCheck").css("display")=="none"){$("#WPViewUpdateContent .hiddenCheck").show()}}function siteSelectorNanoReset(a){if($.browser.msie&&$.browser.version=="8.0"){$(".site_selector1 .bywebsites .website_items_cont .website_cont:nth-child(3n+3)").css({width:"235px","border-right":"0"})}$(".siteSelectorContainer .nano").nanoScroller({scroll:"top",stop:true});$(".siteSelectorContainer .group_items_cont").css("height",$(".siteSelectorContainer .group_items_cont").height()).addClass("nano");$(".siteSelectorContainer .website_items_cont").css("height",$(".siteSelectorContainer .website_items_cont").height()).addClass("nano");$(".siteSelectorContainer .nano").nanoScroller();if(a==1){$("#bottomToolBarSelector .nano").nanoScroller({stop:true});$("#bottomToolBarSelector .nano").nanoScroller()}}function applyChangesCheck(){if($(".actionButton").hasClass("active")){$(".status_applyChangesCheck").removeClass("disabled")}else{$(".status_applyChangesCheck").addClass("disabled")}}function historyRefresh(){var a={};a.requiredData={};a.requiredData["getHistoryPanelHTML"]=1;doCall(ajaxCallPath,a,"reloadHistory","json","noProgress",1)}function setTooltipData(a){toolTipData=a.data.getUserHelp;if(toolTipData.manageGroups=="true"){$(".toggle_manage_groups").qtip({id:"toggleGroupQtip",content:{text:"Manage Groups"},position:{my:"bottom center",at:"top center",adjust:{y:-6}},show:{event:"mouseenter"},hide:{event:"mouseleave"},style:{classes:"ui-tooltip-shadow ui-tooltip-dark",tip:{corner:true,width:10,height:5}}})}}function getTotalUpdates(h){var i=h.pluginsView.plugins;var a=h.themesView.themes;var d=mainJson.coreView.core;if(d!=undefined){var c=getPropertyCount(d)}else{var c=0}if(i!=undefined){var f=getPropertyCount(i)}else{var f=0}if(a!=undefined){var g=getPropertyCount(a)}else{var g=0}var b=c+f+g;return b}function resetBottomToolbar(){if(bottomFullBar!=1){$(".showFooterSelector").removeClass("pressed");$("#bottom_sites_cont").hide()}$("#bottomToolBarSelector .bg_yellow").removeClass("bg_yellow");$("#bottomToolbarOptions").remove();$(".bottomSites").find("a").css("color","#555");$(".bottomSites").attr("style","border-bottom: 1px solid #d8dcdf;")}function processRemoveSite(c){var b=c.actionResult.detailedStatus[0];$("#modalDiv .btn_loadingDiv").remove();if(b.status!="success"){var a='Site removed from the panel.<br>However following error occurred:<span class="error_txt"> '+b.errorMsg+"</span>";var d='<span class="successMsg"><span class="success_icon"></span>'+a+"</span>";$("#removeSiteCont").html(d);$("#removeSiteButtons").hide()}else{setTimeout(function(){$("#modalDiv").dialog("close")},1000)}isAddonPlanLimitExceeded=c.data.checkIsAddonPlanLimitExceeded;addonPlanSiteLimit=c.data.getAddonPlanSiteLimit;addonSuitePlanActivity=c.data.getAddonSuitePlanActivity;resetVars(c);refreshStats(c,1);clientUpdateNotificationPush(c)}function processEditSite(a){$(".addSiteButton").removeClass("disabled");$("#modalDiv .btn_loadingDiv").remove();if(a.data.updateSite==false){var b='<span id="addSiteErrorMsg"><span class="fail_icon"></span>'+errorMsg+"</span>";$("#addSiteSprite").after(b)}else{$(".add_site.form_cont").html('<span id="addSiteSuccessMsg"><span class="success_icon"></span>Site successfully edited.</span>');$(".addSiteButton").hide();setTimeout(function(){$("#modalDiv").dialog("close")},2000);resetVars(a);refreshStats(a,1)}}function processAddSite(b){$(".addSiteButton").removeClass("disabled");$(".addStagingButton").removeClass("disabled");$("#modalDiv .btn_loadingDiv").remove();isAddonPlanLimitExceeded=b.data.checkIsAddonPlanLimitExceeded;addonPlanSiteLimit=b.data.getAddonPlanSiteLimit;addonSuitePlanActivity=b.data.getAddonSuitePlanActivity;if(b.actionResult==false&&addonSuiteMiniLimitExceeded("addSite")){return(false)}var a=b.actionResult.detailedStatus[0];if(a.status!="success"){if(a.error=="main_plugin_connection_error"){var g=$("#adminURL").val();g=g.Trim();if(g.charAt(g.length-1)!="/"){g=g+"/"}var i=g.search("wp-admin");if(i>0){var j=g+"plugin-install.php?tab=search&type=term&s=InfiniteWP&plugin-search-input=Search+Plugins"}else{var j=g+"wp-admin/plugin-install.php?tab=search&type=term&s=InfiniteWP&plugin-search-input=Search+Plugins"}var c='Yikes! It appears IWP plugin has not been installed in this site. Click here to <a href="'+j+'" target="_blank">Install</a> it.<br>OR<br>If you have already installed IWP Plugin, deactivate and activate it now.'}else{var c=a.errorMsg}if(a.error=="404"||a.error=="402"||a.error=="403"){c+='<br><a href="'+supportURL+"support/solutions/articles/212260-402-403-404-error-while-adding-site/"+GAHelpTracking+'" target="_blank">Try this possible solution</a>'}var d='<span id="addSiteErrorMsg"><span class="fail_icon"></span>'+c+"</span>";$("#addSiteSprite").after(d)}else{$("#modalDiv").dialog("close");resetVars(b);refreshStats(b,1);$("#bottom_sites_cont").show();$(".showFooterSelector").addClass("pressed");var h=getLastKey(b.data.getSites);var f=getPropertyCount(b.data.getSites);if(f>=3&&threeSitesTweetStatus!="done"){showTweetDialog("three_sites")}$("#bottomToolBarSelector #bottom_left .nano").nanoScroller({scroll:"bottom"});$("#bottomToolBarSelector #bottom_left .bottomSites#s"+h).effect("highlight",{},3000)}if(typeof b.data.getRecentPluginsStatus!="undefined"){pluginsStatus=b.data.getRecentPluginsStatus}if(typeof b.data.getRecentThemesStatus!="undefined"){themesStatus=b.data.getRecentThemesStatus}if(typeof b.data.stagingGetStagingBaseIDs!="undefined"){stagingSites=b.data.stagingGetStagingBaseIDs}clientUpdateNotificationPush(b,1)}function processReaddSite(c){var a=c;c=c.data.getReaddedSite;if(typeof c!="undefined"&&typeof c.siteID!="undefined"){var b=c.siteID;var d=$('.ind_sites[sid="'+b+'"]');d.removeClass("disconnected")}$("#modalDiv").dialog("destroy");clientUpdateNotificationPush(a,1)}function processMaintenanceSite(b){$("#maintenanceSiteConfirm").removeClass("disabled");$("#loadingDiv").hide();b=b.data.iwpMaintenance;if(typeof b!="undefined"&&typeof b.siteID!="undefined"&&typeof b.action!="undefined"){var a=b.siteID;if(b.action=="maintenance0"){$('.ind_sites[sid="'+a+'"]').removeClass("maintenance");site[a].connectionStatus=1}else{if(b.action=="maintenance1"&&!($('.ind_sites[sid="'+a+'"]').hasClass("maintenance"))){$('.ind_sites[sid="'+a+'"]').addClass("maintenance");site[a].connectionStatus=2}}}$("#modalDiv").dialog("destroy")}function processUpdateNotes(d){d=d.data.iwpUpdateNotes;if(typeof d!="undefined"&&typeof d.siteID!="undefined"){var c=d.siteID;var b=d.notes;site[c]["notes"]=b;if(b==""||b==null||typeof b=="undefined"){b='<a class="add_notes">Add Notes</a>'}var a=$('.site_flap_cont_data[btsiteid="'+c+'"]');a.find(".edit_note").show();a.find(".edit_site_notes,.save_note").remove();a.find(".site_notes").html(b).show();a.find(".edit_links").parent().css({height:$(".site_links").parent().height()+"px"});a.find(".edit_note").parent().css({height:$(".site_notes").parent().height()+"px"})}}function processUpdateLinks(g){g=g.data.iwpUpdateLinks;if(typeof g!="undefined"&&typeof g.siteID!="undefined"){var f=g.siteID;var c=g.links;var b="";site[f]["links"]=c;if(typeof c!="undefined"&&c!=null&&c.length){for(var d=0;d<c.length;d++){if(c[d]!=""&&c[d]!="http://"){if(c[d].indexOf("http://")!=0){c[d]="http://"+c[d]}b+='<a style="display:block;" target="_blank" href="'+c[d]+'">'+c[d]+"</a>"}}}if(b==""){b='<a class="add_links">Add Links</a>'}var a=$('.site_flap_cont_data[btsiteid="'+f+'"]');a.find(".edit_links").show();a.find(".edit_site_links,.save_links").remove();a.find(".site_links").html(b).show();a.find(".edit_links").parent().css({height:$(".site_links").parent().height()+"px"});a.find(".edit_note").parent().css({height:$(".site_notes").parent().height()+"px"})}}function updateCountRefresh(){$("#totalUpdateCount").text(mainJson.totalUpdateCount);$("#lastReloadTime").text(mainJson.lastReloadTime);if(typeof recentLength!="undefined"){$("#totalCommentCount").text(recentLength);if(recentLength<1){$(".commentCountClass").hide()}else{$(".commentCountClass").text(recentLength).show()}}}function processClientUpdate(d){if(typeof d=="undefined"){return false}if(loadUpdateNotificationPopupShown!=1){if(clientUpdatesAvailable!=false){if(clientUpdatesAvailable.siteIDs!=false&&clientUpdatesAvailable.siteIDs!="undefined"){clientUpdateSites=clientUpdatesAvailable.siteIDs}var a="";var c='<a href="http://wordpress.org/plugins/iwp-client/changelog/" target="_blank">'+clientUpdatesAvailable.clientUpdateVersion+"</a>";if((typeof clientUpdatesAvailable.clientUpdateChangeLog!="undefined")&&(clientUpdatesAvailable.clientUpdateChangeLog!="")&&(clientUpdatesAvailable.clientUpdateChangeLog!=null)){a=clientUpdatesAvailable.clientUpdateChangeLog;c=clientUpdatesAvailable.clientUpdateVersion}}else{if(d.hasOwnProperty("siteIDs")){clientUpdateSites=d.siteIDs}var a="";var c='<a href="http://wordpress.org/plugins/iwp-client/changelog/" target="_blank">'+d.clientUpdateVersion+"</a>";if((typeof d.clientUpdateChangeLog!="undefined")&&(d.clientUpdateChangeLog!="")&&(d.clientUpdateChangeLog!=null)){a=d.clientUpdateChangeLog;c=d.clientUpdateVersion}}if($("#modalDiv").dialog("isOpen")!=true){var b='<div class="dialog_cont update_client_plugin"> <div class="th rep_sprite"> <div class="title droid700">IMPORTANT UPDATE</div> <a class="cancel rep_sprite_backup notNowUpdate">cancel</a></div> <div style="padding:20px;"><div style="text-align:center;line-height: 20px;" >An important update to the <span class="droid700">IWP Client Plugin</span> version '+c+' is available.<div>We <span class="droid700">highly recommend</span> that you update it on all your sites.</div></div></div> '+a+'<div class="clear-both"></div> <div class="th_sub rep_sprite" style="border-top:1px solid #c6c9ca;"><div class="btn_action float-right"><a class="rep_sprite" id="updateClientConfirm">Update Now</a></div> <span class="float-right cancel notNowUpdate" >Not Now</span> </div> </div>';$("#modalDiv").dialog("destroy");$("#modalDiv").html(b).dialog({width:"auto",modal:true,position:"center",resizable:false,open:function(f,g){bottomToolBarHide()},close:function(f,g){bottomToolBarShow()}})}}}function clientPluginUpdatesNotification(a){if(a){clientPluginUpdateSiteIDsCount=a.length}else{if(clientUpdatesAvailable!=false){clientPluginUpdateSiteIDsCount=clientUpdatesAvailable.siteIDs.length}}if(clientPluginUpdateSiteIDsCount<2){$(".updateClientCount").html(clientPluginUpdateSiteIDsCount+" site now.")}else{$(".updateClientCount").html(clientPluginUpdateSiteIDsCount+" sites now.")}$(".clientUpdateNotification").show()}function formArrayRefreshStats(a){formArrayVar[a.actionResult.actionID]={};formArrayVar[a.actionResult.actionID]["function"]="refreshStats"}function formArrayLoadPlugins(a){formArrayVar[a.actionResult.actionID]={};formArrayVar[a.actionResult.actionID]["function"]="loadPlugins"}function formArrayClientUpdate(a){formArrayVar[a.actionResult.actionID]={};formArrayVar[a.actionResult.actionID]["function"]="clientUpdate"}function formArrayUpdateAll(a){formArrayVar[a.actionResult.actionID]={};formArrayVar[a.actionResult.actionID]["function"]="loadUpdateAll"}function refreshStats(c,b,a){if(b==undefined){b=0}$("#reloadStats").removeClass("disabled");$(".btn_reload_drop").show();$(".btn_reload_drop").removeClass("disabled");$(".btn_reload_drop").closest("div").removeClass("disabled");$("#reloadStats").closest("div").removeClass("disabled");$(".fa.fa-repeat").removeClass("fa-spin").css("color","");$("#clearPluginCache").removeClass("active");site=c.data.getSites;mainJson=c.data.getSitesUpdates;if((typeof isComment!="undefined")&&(isComment==1)){if(((c.data.manageCommentsGetRecent)!=undefined)){commentsJson=c;recentLength=commentsJson.data.manageCommentsGetRecent.siteView;if(recentLength!=undefined){recentLength=objLen(recentLength)}else{recentLength=0}}}if(typeof isGoogle!="undefined"){if(isGoogle==1){googleJson=c}}if(typeof isGoogleWM!="undefined"){if(isGoogleWM==1){googleWMJson=c}}updateCountRefresh();if(typeof c.data.getRecentPluginsStatus!="undefined"){pluginsStatus=c.data.getRecentPluginsStatus}if(typeof c.data.getRecentThemesStatus!="undefined"){themesStatus=c.data.getRecentThemesStatus}if(a!=1){processPage(currentPage,1)}if(c.data.getClientUpdateAvailableSiteIDs!=undefined){clientUpdatesAvailable=c.data.getClientUpdateAvailableSiteIDs;if(c.data.getClientUpdateAvailableSiteIDs.siteIDs!=undefined){clientPluginUpdatesNotification(c.data.getClientUpdateAvailableSiteIDs.siteIDs)}}if(c.data.getClientUpdateAvailableSiteIDs!=false&&notNowUpdate==false&&b==0){processClientUpdate(c.data.getClientUpdateAvailableSiteIDs)}if(typeof isComment!="undefined"){if($(".recentComments").hasClass("active")){loadCommentManage()}}updateSitesStatusColor()}function updateSitesStatusColor(){updateSitesConnectionStatusColor();updateSitesClientUpdateColor();if(typeof processPageAccess!="undefined"){var a=processPageAccess("updates")}if(typeof a!="undefined"&&a&&typeof isWpVulnsAlert!="undefined"&&!iwpIsEmpty(isWpVulnsAlert)&&isWpVulnsAlert==1){updateSiteVulnsStatus()}}function updateSitesConnectionStatusColor(){if(typeof site!="undefined"&&site!=null){$.each(site,function(b,a){switch(parseInt(a.connectionStatus)){case 0:var c=$(".ind_sites#s"+b);c.removeClass("maintenance toUpdate");if(!c.hasClass("disconnected")){applySiteStatusColor(b,"disconnected")}break;case 1:var c=$(".ind_sites#s"+b);c.removeClass("disconnected maintenance");break;case 2:var c=$(".ind_sites#s"+b);c.removeClass("disconnected toUpdate");if(!c.hasClass("maintenance")){applySiteStatusColor(b,"maintenance")}break}})}}function updateSitesClientUpdateColor(){$(".ind_sites").removeClass("toUpdate");if(clientUpdatesAvailable!=undefined&&clientUpdatesAvailable!=false&&clientUpdatesAvailable.siteIDs!=undefined){$.each(clientUpdatesAvailable.siteIDs,function(a,b){applySiteStatusColor(b,"toUpdate")})}}function applySiteStatusColor(b,a){switch(a){case"disconnected":var c=$(".ind_sites#s"+b);c.addClass("disconnected");break;case"maintenance":var c=$(".ind_sites#s"+b);c.addClass("maintenance");break;case"toUpdate":var c=$(".ind_sites#s"+b);if(c.hasClass("disconnected")!=true&&c.hasClass("maintenance")!=true&&c.hasClass("vulnsUpdate")!=true){c.addClass("toUpdate")}break;default:return false}}function clientUpdateNotificationPush(b,a){if(b!=undefined&&b.data!=undefined){if(b.data.getClientUpdateAvailableSiteIDs==false){$(".clientUpdateNotification").hide();clientPluginUpdateSiteIDsCount=false;clientUpdatesAvailable=false;updateSitesClientUpdateColor()}else{if(b.data.getClientUpdateAvailableSiteIDs!=undefined){clientUpdatesAvailable=b.data.getClientUpdateAvailableSiteIDs;if(b.data.getClientUpdateAvailableSiteIDs.siteIDs!=undefined){clientPluginUpdatesNotification(b.data.getClientUpdateAvailableSiteIDs.siteIDs);updateSitesClientUpdateColor()}if(a==1){processClientUpdate(b.data.getClientUpdateAvailableSiteIDs)}}}}}function get_settings_loader(b){pluginsStatus=b.data.getRecentPluginsStatus;themesStatus=b.data.getRecentThemesStatus;var a=b.data.getFTPValues;if(typeof a!="undefined"&&a!=null){settingsData.data["getSettingsAll"]["settings"]["FTP"]=a}if(typeof b.data.getConfigFTP&&b.data.getConfigFTP!=0){settingsData.data["getSettingsAll"]["settings"]["FTP"]=ftp.data.getConfigFTP}timeZones=b.data.getTimeZones.timeZones;setEasyCronActivate(b)}function showFTPDetails(a){}function validateZipURL(a){var b=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;if(a.match(b)){return true}else{return false}}function pauseCallRefresh(b,a){if(b){pauseCallRefreshCount++}if(pauseCallRefreshCount>=a){clearInterval(pauseCallRefreshInterval);pauseCallRefreshCount=0;historyRefresh()}}function reloadHistory(f){var b=0;bottom_count=bottom_count+1;if(!$("#historyQueue").is(":visible")){b=1}var a=0;var c=1;$("#historyQueue .nano").nanoScroller({stop:true});var d=getPropertyCount(f.data);if(typeof f.showBrowserCloseWarning!="undefined"){if(typeof f.showBrowserCloseWarning!="undefined"&&f.showBrowserCloseWarning!=false){showBrowserCloseWarning=f.showBrowserCloseWarning}else{showBrowserCloseWarning=false}}if(f.data!=undefined&&f.data.getWaitData!=undefined&&getPropertyCount(f.data.getWaitData)>0&&formArrayVar!=undefined&&getPropertyCount(formArrayVar)>0){clearInterval(historyRefreshInterval);if(a==1){pauseCallRefreshInterval=setInterval(function(){if(true){$("#historyQueueUpdateLoading").addClass("loading");pauseCallRefresh(1,c)}else{if(!$(".queue_detailed").is(":visible")){$("#historyQueueUpdateLoading").addClass("loading");historyRefresh()}}},(1000))}else{historyRefreshInterval=setInterval(function(){if(true){$("#historyQueueUpdateLoading").addClass("loading");historyRefresh()}else{if(!$(".queue_detailed").is(":visible")){$("#historyQueueUpdateLoading").addClass("loading");historyRefresh()}}},(forcedAjaxInterval*1000))}$.each(formArrayVar,function(l,i){if(f.data.getWaitData[l]!=undefined&&f.data.getWaitData[l].total!=undefined){if(formArrayVar[l].initated==undefined){if(i["function"]=="loadUsers"){$(".loadUsersBtn").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadUsersProcess" style="margin: 8px 30px 8px 0px; width: 69px;"><span class="processCount">'+f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+l+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>')}if(i["function"]=="loadPlugins"){$(".fetchInstall").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadPluginsProcess" style="margin: 8px 30px 8px 0px; width: 69px;"><span class="processCount">'+f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+l+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>')}if(i["function"]=="loadComments"){$(".fetchManageComments").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadCommentsProcess" style="margin: 8px 30px 8px 0px; width: 89px;"><span class="processCount">'+f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+l+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>')}if(i["function"]=="loadMalwareData"){$(".loadMalware").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadMalwareProcess" style="margin: 8px 30px 8px 0px; width: 89px;"><span class="processCount">'+f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+l+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>')}if(i["function"]=="loadPosts"){$(".fetchPosts").closest(".btn_action").hide().after('<div class="btn_reload_progress float-left" id="loadPostsProcess" style="margin: 8px 30px 8px 0px; width: 66px;"><span class="processCount">'+f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+l+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>')}if(i["function"]=="loadOptimize"){$(".loadOptimize").closest(".btn_action").hide().after('<div class="btn_reload_progress float-left" id="loadOptimizeProcess" style="margin: 8px 30px 8px 0px; width: 64px;"><span class="processCount">'+f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+l+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>')}if(i["function"]=="loadLinks"){$(".fetchPosts").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadLinksProcess" style="margin: 8px 30px 8px 0px; width: 60px;"><span class="processCount">'+f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+l+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>')}if(i["function"]=="refreshStats"){$("#reloadStats").closest(".btn_reload").hide().after('<div class="btn_reload_progress float-right" id="refreshStatsProcess" style="border-radius: 3px; padding: 7px 26px 7px;margin: 2px -1px 7px 7px;width:84px;"><i class="fa fa-repeat fa-spin" style="position: relative;font-size: 15px;left: -17px;top: -2px;float: left;color:rgba(82, 140, 79, 0.5);"></i><span class="processCount" style="margin-left:-10px;">'+f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total+'</span> sites<div class="btn_stop_reload stopCall" style="margin: -2px -19px 0 0; font-size:17px;" actionid="'+l+'"></div></div>');$(".btn_reload_drop").hide();$(".btn_stop_reload").qtip({content:{text:"Stop reload &amp; display loaded data"},position:{my:"top right",at:"bottom right",adjust:{x:-6,y:10}},show:{event:"mouseenter"},hide:{distance:20},style:{classes:"ui-tooltip-shadow ui-tooltip-tipsy",tip:{corner:true,width:9,height:4}}})}if(i["function"]=="runCode"){$("#runSnippetCode").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="runCodeProcess" style="margin: 8px 30px 8px 0px; width: 69px;"><span class="processCount">'+f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+l+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>')}if(i["function"]=="loadbrokenLinksGetAllLinksResult"){$(".load_bls_main").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadBLAllLinksProcess" style="margin: 8px 30px 8px 0px; width: 69px;"><span class="processCount">'+f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+l+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>')}if(i["function"]=="getBrokenLinksUpdateLink"){$(".load_bls_main").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadBLUpdateLinkProcess" style="margin: 8px 30px 8px 0px; width: 69px;"><span class="processCount">'+f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+l+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>')}if(i["function"]=="getBrokenLinksUndismissLink"){$(".load_bls_main").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadBLUndismissLinkProcess" style="margin: 8px 30px 8px 0px; width: 69px;"><span class="processCount">'+f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+l+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>')}if(i["function"]=="loadbrokenLinksBulkActionsResult"){$(".load_bls_main").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadBLBulkActionsProcess" style="margin: 8px 30px 8px 0px; width: 69px;"><span class="processCount">'+f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+l+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>')}if(i["function"]=="loadYoastSEOGetInfoResult"){$(".load_yseo_main").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadYoastResultsProcess" style="margin: 8px 30px 8px 0px; width: 69px;"><span class="processCount">'+f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+l+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>')}if(i["function"]=="loadYoastSEOSaveInfoResult"){$(".load_yseo_main").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadYoastResultsProcess" style="margin: 8px 30px 8px 0px; width: 69px;"><span class="processCount">'+f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+l+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>')}if(i["function"]=="getGoogleWebMastersRedirect"){$(".loadWebMastersBtn").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="googleWebMastersRedirectProcess" style="margin: 8px 30px 8px 0px; width: 69px;"><span class="processCount">'+f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+l+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>')}if(i["function"]=="getGoogleWebMastersRedirectAgain"){$(".loadWebMastersBtn").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="googleWebMastersRedirectAgainProcess" style="margin: 8px 30px 8px 0px; width: 69px;"><span class="processCount">'+f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+l+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>')}if(i["function"]=="FEUploaderResult"){}if(i["function"]=="loadwordFenceResult"){$("#LoadWordfence").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="loadWordfenceProcess" style="margin: 8px 30px 8px 0px; width: 150px;"><span class="processCount">'+f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+l+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>')}if(i["function"]=="ithemesSecurityLoad"){$("#LoadIthemesSecurity").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="LoadIthemesSecurityProcess" style="margin: 8px 30px 8px 0px; width: 150px;"><span class="processCount">'+f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+l+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>')}if(i["function"]=="ScanWordFence"){$("#scanWordfence").closest(".btn_action").hide().after('<div class="btn_reload_progress float-right" id="scanWordfenceProcess" style="margin: 8px 30px 8px 0px; width: 70px;"><span class="processCount">'+f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total+'</span> sites<div class="btn_stop_reload stopCall" actionid="'+l+'"><div class="tip">Stop reload &amp; display loaded data</div></div></div>')}formArrayVar[l].initated=1}else{if(i["function"]=="refreshStats"){$("#refreshStatsProcess .processCount").text(f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total)}if(i["function"]=="loadPlugins"){$("#loadPluginsProcess .processCount").text(f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total)}if(i["function"]=="loadComments"){$("#loadCommentsProcess .processCount").text(f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total)}if(i["function"]=="loadMalwareData"){$("#loadMalwareProcess .processCount").text(f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total)}if(i["function"]=="loadOptimize"){$("#loadCommentsProcess .processCount").text(f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total)}if(i["function"]=="loadLinks"){$("#loadLinksProcess .processCount").text(f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total)}if(i["function"]=="loadPosts"){$("#loadPostsProcess .processCount").text(f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total)}if(i["function"]=="loadUsers"){$("#loadUsersProcess .processCount").text(f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total)}if(i["function"]=="runCode"){$("#runCodeProcess .processCount").text(f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total)}if(i["function"]=="loadbrokenLinksGetAllLinksResult"){$("#loadBLAllLinksProcess .processCount").text(f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total)}if(i["function"]=="getBrokenLinksUpdateLink"){$("#loadBLUpdateLinkProcess .processCount").text(f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total)}if(i["function"]=="getBrokenLinksUndismissLink"){$("#loadBLUndismissLinkProcess .processCount").text(f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total)}if(i["function"]=="loadbrokenLinksBulkActionsResult"){$("#loadBLBulkActionsProcess .processCount").text(f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total)}if(i["function"]=="loadYoastSEOGetInfoResult"){$("#loadYoastResultsProcess .processCount").text(f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total)}if(i["function"]=="loadYoastSEOSaveInfoResult"){$("#loadYoastResultsProcess .processCount").text(f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total)}if(i["function"]=="getGoogleWebMastersRedirect"){$("#googleWebMastersRedirectProcess .processCount").text(f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total)}if(i["function"]=="getGoogleWebMastersRedirectAgain"){$("#googleWebMastersRedirectAgainProcess .processCount").text(f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total)}if(i["function"]=="FEUploaderResult"){}if(i["function"]=="ithemesSecurityLoad"){$("#LoadIthemesSecurityProcess .processCount").text(f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total)}if(i["function"]=="loadwordFenceResult"){$("#loadWordfenceProcess .processCount").text(f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total)}if(i["function"]=="ScanWordFence"){$("#scanWordfenceProcess .processCount").text(f.data.getWaitData[l].loaded+"/"+f.data.getWaitData[l].total)}}}if(f.data.getWaitData[l]!=undefined&&f.data.getWaitData[l].data!=undefined){if(i["function"]=="refreshStats"){$("#refreshStatsProcess").remove();$(".fa.fa-repeat").removeClass("fa-spin").css("color","");$("#reloadStats").closest(".btn_reload").show();if(currentPage=="updates"||currentPage=="backups"){refreshStats(f.data.getWaitData[l])}else{refreshStats(f.data.getWaitData[l],"",1)}}if(i["function"]=="clientUpdate"){clientUpdateNotificationPush(f.data.getWaitData[l])}if(i["function"]=="loadPlugins"){$("#loadPluginsProcess").remove();$(".fetchInstall").closest(".btn_action").show();loadManagePanel(f.data.getWaitData[l])}if(i["function"]=="loadUpdateAll"){loadUpdateAllPanel(f.data.getWaitData[l])}if(i["function"]=="loadOptimize"){$("#loadOptimizeProcess").remove();$(".loadOptimize").closest(".btn_action").show();loadOptimizePanel(f.data.getWaitData[l])}if(i["function"]=="loadComments"){$("#loadCommentsProcess").remove();$(".fetchManageComments").closest(".btn_action").show();loadManageCommentPanel(f.data.getWaitData[l])}if(i["function"]=="loadMalwareData"){$("#loadMalwareProcess").remove();$(".loadMalware").closest(".btn_action").show();processMalwareData(f.data.getWaitData[l])}if(i["function"]=="loadPosts"){$("#loadPostsProcess").remove();$(".fetchPosts").closest(".btn_action").show();loadManagePostsPanel(f.data.getWaitData[l])}if(i["function"]=="loadLinks"){$("#loadLinksProcess").remove();$(".fetchPosts").closest(".btn_action").show();loadManagePostsPanel(f.data.getWaitData[l])}if(i["function"]=="loadUsers"){$("#loadUsersProcess").remove();$(".loadUsersBtn").closest(".btn_action").show();loadProcessedUserData(f.data.getWaitData[l])}if(i["function"]=="runCode"){$("#runCodeProcess").remove();$("#runSnippetCode").closest(".btn_action").show();processSnippetResponse(f.data.getWaitData[l])}if(i["function"]=="loadbrokenLinksGetAllLinksResult"){$("#loadBLAllLinksProcess").remove();$(".load_bls_main").closest(".btn_action").removeClass("disabled").show();brokenLinksGetAllLinks(f.data.getWaitData[l])}if(i["function"]=="getBrokenLinksUpdateLink"){$("#loadBLUpdateLinkProcess").remove();$(".load_bls_main").closest(".btn_action").removeClass("disabled").show();brokenLinksUpdateLink(f.data.getWaitData[l])}if(i["function"]=="getBrokenLinksUndismissLink"){$("#loadBLUndismissLinkProcess").remove();$(".load_bls_main").closest(".btn_action").removeClass("disabled").show();brokenLinksUndismissLink(f.data.getWaitData[l])}if(i["function"]=="loadbrokenLinksBulkActionsResult"){$("#loadBLBulkActionsProcess").remove();$(".load_bls_main").closest(".btn_action").removeClass("disabled").show();brokenLinksBulkActions(f.data.getWaitData[l])}if(i["function"]=="loadYoastSEOGetInfoResult"){$("#loadYoastResultsProcess").remove();$(".load_yseo_main").closest(".btn_action").removeClass("disabled").show();loadYoastSEOGetInfoResult(f.data.getWaitData[l])}if(i["function"]=="loadYoastSEOSaveInfoResult"){$("#loadYoastResultsProcess").remove();$(".load_yseo_main").closest(".btn_action").removeClass("disabled").show();loadYoastSEOSaveInfoResult(f.data.getWaitData[l])}if(i["function"]=="getGoogleWebMastersRedirect"){$("#googleWebMastersRedirectProcess").remove();$(".processFile").closest(".btn_action").removeClass("disabled").show();googleWebMastersRedirect(f.data.getWaitData[l])}if(i["function"]=="getGoogleWebMastersRedirectAgain"){$("#googleWebMastersRedirectAgainProcess").remove();$(".processFile").closest(".btn_action").removeClass("disabled").show();googleWebMastersRedirectAgain(f.data.getWaitData[l])}if(i["function"]=="FEUploaderResult"){FileEditorUploader(f.data.getWaitData[l])}if(i["function"]=="FetchReportResult"){processReportingNew(f.data.getWaitData[l])}if(i["function"]=="RunNowNewScheduleReport"){processsRunNowReportNew(f.data.getWaitData[l])}if(i["function"]=="ithemesSecurityLoad"){$("#LoadIthemesSecurityProcess").remove();$("#LoadIthemesSecurity").closest(".btn_action").show();ithemesSecurityLoad(f.data.getWaitData[l])}if(i["function"]=="loadwordFenceResult"){$("#loadWordfenceProcess").remove();$("#LoadWordfence").closest(".btn_action").show();wordfenceLoadScan(f.data.getWaitData[l])}if(i["function"]=="ScanWordFence"){$("#scanWordfenceProcess").remove();$("#scanWordfence").closest(".btn_action").show();wordfenceScan(f.data.getWaitData[l])}if(i["function"]=="ScanCheckWordFence"){ScanCheckWordFence(f.data.getWaitData[l])}if(i["function"]=="testCloneConnection"){afterTestConnectionIC(f.data.getWaitData[l]);if(f.data.getWaitData[l].actionResult.status!=undefined&&(f.data.getWaitData[l].actionResult.status=="error")){f.data.getWaitData[l].actionResult.status="success"}}if(i["function"]=="backupForClone"){createBackupAndLoad(f.data.getWaitData[l])}if(i["function"]=="stagingDelete"){site=f.data.getWaitData[l].data.getSites}delete formArrayVar[l];var j=f.data.getWaitData[l];if(j.actionResult.status!=undefined&&(j.actionResult.status=="partial"||j.actionResult.status=="error")){$("#historyQueue").show();b=0}}})}else{if(typeof(pauseCallRefreshInterval)!="undefined"){clearInterval(pauseCallRefreshInterval)}clearInterval(historyRefreshInterval);if((d==1)&&(a==1)){pauseCallRefreshInterval=setInterval(function(){if(true){$("#historyQueueUpdateLoading").addClass("loading");pauseCallRefresh(1,c)}},(1000))}if((typeof f.sendNextAjaxCallAfter!="undefined")&&(f.sendNextAjaxCallAfter!=null)){if(f.sendNextAjaxCallAfter!=0){if(typeof forcedAjaxInterval!="undefined"){if(forcedAjaxInterval<=f.sendNextAjaxCallAfter){tempTimeOut=f.sendNextAjaxCallAfter*1000}else{tempTimeOut=forcedAjaxInterval*1000}}else{tempTimeOut=f.sendNextAjaxCallAfter*1000}historyRefreshInterval=setInterval(function(){if(true){$("#historyQueueUpdateLoading").addClass("loading");historyRefresh()}else{if(!$(".queue_detailed").is(":visible")){$("#historyQueueUpdateLoading").addClass("loading");historyRefresh()}}},tempTimeOut)}else{var g=5*1000;if(typeof forcedAjaxInterval!="undefined"){if(forcedAjaxInterval<5){g=5*1000}else{g=forcedAjaxInterval*1000}}historyRefreshInterval=setInterval(function(){if(true){$("#historyQueueUpdateLoading").addClass("loading");historyRefresh()}else{if(!$(".queue_detailed").is(":visible")){$("#historyQueueUpdateLoading").addClass("loading");historyRefresh()}}},g)}}}if(historyDetailRefreshFlag&&f.data.getHistoryPanelDetailedHTML!=undefined){var h=f.data.getHistoryPanelDetailedHTML.actionid}if(h!=undefined&&$("#"+h+" .content").is(":visible")){current_history_detailed_scroll_position=$("#"+h+" .content").scrollTop()}if(f.data!=undefined&&f.data.getHistoryPanelHTML!=undefined){$("#activityPopup").html(f.data.getHistoryPanelHTML)}if(historyDetailRefreshFlag&&f.data.getHistoryPanelDetailedHTML!=undefined){loadHistoryPanelDetailedHTML(f)}if(navigator.platform.indexOf("Mac")!=-1){$("#activityPopup .nano").removeClass("nanomac").addClass("nanomac")}$("#historyQueue").show();$(".historyItem").each(function(){if($(this).attr("did")==h){if(typeof current_history_detailed_scroll_position!="undefined"){$("#"+h+" .content").scrollTop(current_history_detailed_scroll_position)}}});if(b==1){$("#historyQueue").hide()}$("#historyQueue .nano").nanoScroller();if(bottom_count==1){if(sitesList!=null&&sitesList!=undefined&&getPropertyCount(sitesList)>0){$.each(site,function(j,l){var i=".left_favicon_img_s"+j;$(i).html('<img class="lazyload" data-src='+l.favicon+' src="images/custom_wp_favicon.ico"  width="16" height="16">')})}}}function reloadFavourites(a){favourites=a.data.getFavourites;favouritesGroupData=a.data.getFavouritesGroups;pluginsThemesFavoritesSelector()}function reloadAndLoadFavourites(a){favourites=a.data.getFavourites;favouritesGroupData=a.data.getFavouritesGroups;pluginsThemesFavoritesSelector();loadFavourites();triggerNanoScrollerFavoritesGroup()}function createUploader(){var a=new qq.FileUploader({element:document.getElementById("uploaderContent"),action:systemURL+"uploadScript.php",debug:true})}function uploadFavouriteThemesAndPlugins(){var a=new qq.FileUploader({element:document.getElementById("uploadFavouriteThemesAndPlugins"),action:systemURL+"uploadScript.php",multiple:false,params:{uploadFavouriteThemesAndPlugins:1},debug:true});currentUploader="uploadFavouriteThemesAndPlugins"}function showBackupOptions(){$(".th_btm_info").remove();var a=isSiteSelected();if(!a){$("#enterBackupDetails").addClass("disabled clickNone")}else{$("#enterBackupDetails").removeClass("disabled clickNone")}$("#modalDiv").dialog("option","position","center")}function showItemOptions(){if(!isSiteSelected()){$(".optionsContent").hide();$(".advancedInstallOptions").hide()}else{$(".optionsContent").show();$(".actionContent").html("");if($(".install").hasClass("active")){$(".advancedInstallOptions").show()}}}function removeDeleteConf(){$(".del_conf").hide();$(".ind_groups","#bottom_sites_cont").removeClass("error")}function resetSelectors(){siteSelector();siteSelector(1);$("#bottomToolBarSelector").html(bottomToolbarVar);$(".siteSelectorContainer").html(siteSelectorRestrictVar);siteSelectorNanoReset(1);$(".select2_bottom .select_group_toolbar").select2({width:"177px"});$(".toggle_manage_groups").qtip({id:"toggleGroupQtip",content:{text:"Manage Groups"},position:{my:"bottom center",at:"top center",adjust:{y:-6}},show:{event:"mouseenter"},hide:{event:"mouseleave"},style:{classes:"ui-tooltip-shadow ui-tooltip-dark",tip:{corner:true,width:10,height:5}}});resetGroup();dynamicResize();if(sitesList!=null&&sitesList!=undefined&&getPropertyCount(sitesList)>0){$.each(site,function(b,c){var a=".left_favicon_img_s"+b;$(a).html('<img class="lazyload" data-src='+c.favicon+' src="images/custom_wp_favicon.ico"  width="16" height="16">')})}}function processCheckUpdate(a){$("#updates_centre_cont .btn_loadingDiv").remove();$(".updateActionBtn").removeClass("disabled");if(a.data.forceCheckUpdate==false){$(".is_uptodate").remove();$(".checkUpdateError").remove();$(".updates_descr").remove();$(".change_log").remove();$(".updatePanelData").append('<div class="is_uptodate rep_sprite_backup">InfiniteWP is up to date</div>')}else{if(a.data.forceCheckUpdate.status=="netError"){$(".is_uptodate").remove();$(".checkUpdateError").remove();$(".updates_descr").remove();$(".change_log").remove();$(".updatePanelData").append('<div class="checkUpdateError">'+a.data.forceCheckUpdate.errorMsg+"</div>")}else{loadPanelUpdate(a.data.forceCheckUpdate)}}isAddonSuiteMiniLimitExceeded=a.data.checkIsAddonPlanLimitExceeded;addonSuiteMiniLimit=a.data.getAddonPlanSiteLimit;addonSuiteMiniActivity=a.data.getAddonSuitePlanActivity;isAddonSuiteMiniCancelMessage(a.data.isAddonSuitePlanCancelMessage);setTimeout(function(){updateNotificationContent()},2000)}function resetVars(a){a=a.data;site=a.getSites;sitesList=a.getSitesList;group=a.getGroupsSites;totalSites=getPropertyCount(site);totalGroups=getPropertyCount(group);totalUpdates=getPropertyCount(mainJson);resetSelectors()}function processSaveChange(a){if($(".toolbar_sites_cont","#bottomToolBarSelector").length>0&&$(".toolbar_sites_cont","#bottomToolBarSelector").is(":visible")){tempToolCont="<div class='toolbar_sites_cont'>"+$(".toolbar_sites_cont").html()+"</div>"}else{tempToolCont=""}resetVars(a);groupCreateArray={};groupChangeArray={};groupNameArray={};groupDeleteArray={};$(".btn_reload_drop").find(".l2").html(a.data.printGroupsForReloaData);$("#addWebsiteContainer","#bottomToolBarSelector").after(tempToolCont);$(".emptyGroups").qtip({content:{text:"No sites in this group"},position:{my:"right center",at:"left center"},show:{delay:1000},hide:{event:"click mouseleave",inactive:1000},style:{classes:"ui-tooltip-shadow ui-tooltip-tipsy",tip:{corner:true,width:5,height:5}}})}function processTestEmail(a){$("#sendTestEmail").removeClass("sending");if(a.data.updatesNotificationMailTest==true){$("#sendTestEmail").addClass("success")}else{$("#sendTestEmail").addClass("failure")}}function processPage(c,a){bottomLinePromotion("pre",c);if(c=="updates"&&typeof processPageAccess!="undefined"){var b=processPageAccess(c);if(b==false){return}if(b!=true||b!=true){c=b}}currentPage=c;if(c=="items"){if(totalSites>0){loadItemManage();$(".typePlugin").removeClass("active");$(".typePlugin").click();$(".optionsContent").hide()}else{$("#pageContent").html('<div class="empty_data_set"> <div class="line1">Plugins & Themes of WordPress sites you add will appear here.</div> <div class="line2">You can install and manage plugins & themes here.</div> </div>')}}else{if(c=="clientReporting"){if(totalSites>0){loadReportingMainPage()}else{$("#pageContent").html('<div class="empty_data_set"> <div class="line1">You can generate the reports based on your activities in terms of updates, backups, etc...</div></div>')}}else{if(c=="upTimeMonitor"){if(totalSites>0){loadupTimeMonitorMainPage()}else{$("#pageContent").html('<div class="empty_data_set"> <div class="line1">UpTimeMonitor options from WordPress sites you add will appear here.</div> <div class="line2">You can perform Optimization here.</div> </div>')}}else{if(c=="malwareSecurity"){if(totalSites>0){loadMalwareSecurityMainPage()}else{$("#pageContent").html('<div class="empty_data_set"> <div class="line1">Malware Security option from WordPress sites you add will appear here.</div> <div class="line2">You can perform Optimization here.</div> </div>')}}else{if(c=="wpOptimize"){if(totalSites>0){loadOptimizeMainPage();$(".optionsContent").hide()}else{$("#pageContent").html('<div class="empty_data_set"> <div class="line1">Wp OPtimization option from WordPress sites you add will appear here.</div> <div class="line2">You can perform Optimization here.</div> </div>')}}else{if(c=="googleAnalytics"){if(totalSites>0){var d={};d.requiredData={};d.requiredData["googleAnalyticsActiveSites"]=1;doCall(ajaxCallPath,d,"loadGooglePage")}else{$("#pageContent").html('<div class="empty_data_set"> <div class="line1">Comments from WordPress sites you add will appear here.</div> <div class="line2">You can install and manage plugins & themes here.</div> </div>')}}else{if(c=="comments"){if(totalSites>0){loadCommentManage();$(".optionsContent").hide()}else{$("#pageContent").html('<div class="empty_data_set"> <div class="line1">Comments from WordPress sites you add will appear here.</div> <div class="line2">You can install and manage plugins & themes here.</div> </div>')}}else{if(c=="codeSnippets"){loadSnippetPage()}else{if(c=="posts"){if(totalSites>0){$(".typePosts").removeClass("active");$(".typePosts").click();loadPostsManage();$(".optionsContent").hide()}else{$("#pageContent").html('<div class="empty_data_set"> <div class="line1">Posts and pages of WordPress sites you add will appear here.</div> <div class="line2">You can install and manage plugins & themes here.</div> </div>')}}else{if(c=="updates"){if(totalSites>0){if(totalUpdates>0){var d={};d.requiredData={};d.requiredData["getSitesViewUpdatesContent"]=1;d.requiredData["getUpdateCounts"]=1;d.requiredData["bypassHistoryAjaxCall"]=1;doCall(ajaxCallPath,d,"loadSitesViewUpdatesContent")}else{$("#pageContent").html('<div class="empty_data_set"> <div class="line1">Everything is up-to-date. Woooo!!</div> <div class="line2">You are smart & safe.</div> </div>')}}else{$("#pageContent").html('<div class="empty_data_set"> <div class="line1">Updates to your WP, Plugins & Themes will be listed out here.</div> <div class="line2">You can update them all at once or by items & can also hide all future updates for specific items.</div> </div>')}if(typeof mainJson.updatePageEmailCronReqNotification!="undefined"&&mainJson.updatePageEmailCronReqNotification==1){$("#pageContent").prepend('<div class="setCronNotification" style="border-left: 2px solid #d0b000; position:relative; background-color: #FEF5C2; padding: 10px;">If you want to receive update notification emails, you need to set up a cron job. Go to <a id="goCronSettings">Settings -> Cron</a> to set it up now. <div class="dismiss_notification"><a>Dismiss</a></div></div>')}}else{if(c=="backups"){if(totalSites>0){var d={};d.requiredData={};d.requiredData["getSitesBackupsHTML"]=1;doCall(ajaxCallPath,d,"loadBackupPage")}else{$("#pageContent").html('<div class="empty_data_set"> <div class="line1">Website backups you create will be listed here.</div> <div class="line2">You can restore, download and delete backups.</div> </div>')}}else{if(c=="history"){if(totalSites>0){var d={};d.requiredData={};d.requiredData["getHistoryPageHTML"]=1;d.requiredData["getActivityCategories"]=1;if(typeof multiUserAddonFlag!="undefined"&&multiUserAddonFlag&&currentUserAccessLevel=="admin"){d.requiredData["getAccessibleUsers"]=1}doCall(ajaxCallPath,d,"loadHistoryPage")}else{$("#pageContent").html('<div class="empty_data_set"> <div class="line1">All your site related activities will be logged here.</div></div>')}}else{if(c=="loginLog"){$(".page_section_title").html("Login log");var d={};d.requiredData={};d.requiredData["getLogPageHTML"]=1;if(typeof multiUserAddonFlag!="undefined"&&multiUserAddonFlag&&currentUserAccessLevel=="admin"){d.requiredData["getAccessibleUsers"]=1}doCall(ajaxCallPath,d,"loadLogHistoryPage")}else{if(c=="installClone"){installCloneLoad()}else{if(c=="addons"){loadAddonsPage()}else{if(c=="userManagement"){loadUserManagement()}else{if(c=="brokenLinks"){loadBrokenLinksPage()}else{if(c=="googleWebMasters"){if(totalSites>0){var d={};d.requiredData={};d.requiredData["googleWebMastersActiveSites"]=1;doCall(ajaxCallPath,d,"loadGoogleWebMastersPage")}else{$("#pageContent").html('<div class="empty_data_set"> <div class="line1">Comments from WordPress sites you add will appear here.</div> <div class="line2">You can install and manage plugins & themes here.</div> </div>')}}else{if(c=="fileEditor"){loadFileEditorPage()}else{if(c=="gPageSpeed"){loadGooglePageSpeedPage()}else{if(c=="wordFence"){loadWordFenceMainPage()}else{if(c=="ithemesSecurity"){loadIthemesSecurityMainPage()}else{if(c=="yoastWpSeo"){loadYoastWpSeoPage()}else{if(c=="iwpusers"){loadAdmins()}}}}}}}}}}}}}}}}}}}}}}}}setTimeout(function(){bottomLinePromotion("post",c)},1000);bottomLinePromotion("post",c)}function bottomLinePromotion(b,a){content=false;if(b=="pre"){}else{if(b=="post"){content=getContentForBottomLine(a);lastBottomLinePage=a;if(typeof content!="undefined"&&content!=""){$("#bottomLine").remove();lastBottomLineContent='<div id="bottomLine" class="bottom_line_promo">'+content+"</div>";$("#pageContent").append(lastBottomLineContent)}else{lastBottomLineContent=""}}}}function detechAndSetBottomLine(){if(lastBottomLinePage==currentPage&&lastBottomLineContent.length>1){if($("#bottomLine").length==0){$("#pageContent").append(lastBottomLineContent)}else{if($("#pageContent").children().last().attr("id")!="bottomLine"){}}}}function getBottomLineByThisPage(f){var d=Array();finaleReturn=false;var a=Array();var g=Array();c=0;if(typeof purchasedAddonsGlobal!="undefined"&&purchasedAddonsGlobal!=null){var b=0;jQuery.each(purchasedAddonsGlobal,function(i,h){if(i!="length"){d[b]=i}b++})}if(typeof markBottomLines!="undefined"&&markBottomLines!=""&&markBottomLines!=null){var c=0;$.each(markBottomLines,function(i,h){if(i=="mainPanel_backups"||i=="mainPanel_updates"||i=="mainPanel_activityLog"||i=="mainPanel_addons"||i=="mainPanel_pluginsThemes"){if(typeof h.promoteHere!="undefined"&&h.promoteHere!=""&&h.promoteHere!=null){var j=h.promoteHere.split(",")}if(typeof j!="undefined"){$.each(j,function(l,m){g[c]=m;c++})}}else{g[c]=i;c++}})}if(typeof g!="undefined"&&g!=""&&g!=null){$.each(g,function(i,h){if(typeof d!="undefined"){a[c]=h;c++}})}if(a.length<1){return finaleReturn}if(typeof markBottomLines!="undefined"&&markBottomLines!=null){if(typeof markBottomLines[f]!="undefined"&&markBottomLines[f]){thisPagePromoDetails=markBottomLines[f];if(typeof thisPagePromoDetails.promoteHere!="undefined"&&thisPagePromoDetails.promoteHere!=null&&thisPagePromoDetails.promoteHere.length>1){promoteHere=thisPagePromoDetails.promoteHere.split(",");randKey=false;if(thisPagePromoDetails.isRand=="1"){randKey=true}if(typeof promoteHere!="undefined"&&promoteHere!=""&&promoteHere!=null){$.each(promoteHere,function(i,h){if((typeof d!="undefined"&&jQuery.inArray(h,d)==-1)){if(typeof markBottomLines[h]!="undefined"&&typeof markBottomLines[h].promoContent!="undefined"){finaleReturn=markBottomLines[h].promoContent;if(randKey){if(Math.floor((Math.random()*2)+0)==0){return false}return}return false}}})}}}}return finaleReturn}function getContentForBottomLine(a){if(a=="items"){return getBottomLineByThisPage("mainPanel_pluginsThemes")}else{if(a=="clientReporting"){return getBottomLineByThisPage("clientReporting")}else{if(a=="upTimeMonitor"){return getBottomLineByThisPage("uptimeMonitorUptimeRobot")}else{if(a=="malwareSecurity"){return getBottomLineByThisPage("malwareScanningSucuri")}else{if(a=="wpOptimize"){return getBottomLineByThisPage("wpOptimize")}else{if(a=="googleAnalytics"){return getBottomLineByThisPage("googleAnalytics")}else{if(a=="comments"){return getBottomLineByThisPage("manageComments")}else{if(a=="codeSnippets"){return getBottomLineByThisPage("codeSnippets")}else{if(a=="posts"){return getBottomLineByThisPage("bulkPublish")}else{if(a=="updates"){return getBottomLineByThisPage("mainPanel_updates")}else{if(a=="backups"){return getBottomLineByThisPage("mainPanel_backups")}else{if(a=="history"){return getBottomLineByThisPage("mainPanel_activityLog")}else{if(a=="installClone"){return getBottomLineByThisPage("installClone")}else{if(a=="addons"){return getBottomLineByThisPage("mainPanel_addons")}else{if(a=="userManagement"){return getBottomLineByThisPage("manageUsers")}else{if(a=="brokenLinks"){return getBottomLineByThisPage("brokenLinks")}else{if(a=="googleWebMasters"){return getBottomLineByThisPage("googleWebMasters")}else{if(a=="fileEditor"){return getBottomLineByThisPage("fileEditor")}else{if(a=="gPageSpeed"){return getBottomLineByThisPage("googlePageSpeed")}else{if(a=="wordFence"){return getBottomLineByThisPage("wordFence")}}}}}}}}}}}}}}}}}}}}return false}function processHideUpdate(a){mainData=a.data.getUpdateCounts;pluginsUpdateCount=mainData.pluginsCount;themesUpdateCount=mainData.themesCount;WPUpdateCount=mainData.core;transUpdateCount=mainData.translationsCount;hiddenUpdateCount=mainData.hiddenUpdateCounts;siteErrorCount=mainData.siteErrorCount;vulnerableSiteIDs=mainData.vulnerableSiteIDs;WPVulnsHiddenCount=mainData.WPVulnsHiddenCount;totalUpdateCount=mainData.totalUpdateCount;totalPluginUpdateCount=mainData.totalPluginUpdateCount;totalThemeUpdateCount=mainData.totalThemeUpdateCount;totalCoreUpdateCount=mainData.totalCoreUpdateCount;totalTranslationUpdateCount=mainData.totalTranslationUpdateCount;$("#totalUpdateCount").text(totalUpdateCount);if(typeof isWpVulnsAlert!="undefined"&&!iwpIsEmpty(isWpVulnsAlert)&&isWpVulnsAlert==1){securityUpdateCount=mainData.WPVulnsCount;affectedCount=mainData.affectedCount;vulnsPluginUpdateCount=mainData.vulnsPluginUpdateCount;vulnsCoreUpdateCount=mainData.vulnsCoreUpdateCount;vulnsThemeUpdateCount=mainData.vulnsThemeUpdateCount;if(typeof isWpVulnsAlert!="undefined"&&!iwpIsEmpty(isWpVulnsAlert)&&isWpVulnsAlert==1){checkAndShowSecurityUpdatesCount(1);updateSiteVulnsStatus()}}updateViewDropDown()}function groupSelected(){var b=0;var a={};$(".js_addSite.active",".addSiteGroups").each(function(){a[b]=$(this).attr("gid");b=b+1});return a}function testAlert(a){}function getSelectedSites(c){var a={};if(c==undefined){c=".siteSelectorContainer"}else{c=c+" .siteSelectorContainer"}var b=0;$(".website_cont.active",c).each(function(){a[b]=$(this).attr("sid");b++});return a}function installItems(d,b,a){if(b==undefined||b==""){dLink=$(d).attr("dlink");var c=$(d).attr("dlink")}else{dLink=b}var f={};f.args={};f.args["params"]={};f.args["siteIDs"]={};var g={};f.action="install"+activeItem.toTitleCase();g[activeItem]={};if(a>0){f.args["siteIDs"]=getSelectedSites();if(a==2){if(wpRepositoryFlag==1){g[activeItem]=c}else{g[activeItem]=dLink}}else{if(wpRepositoryFlag==1){g[activeItem][0]=c}else{g[activeItem][0]=dLink}}}else{f.args["siteIDs"][0]=$(d).attr("sid");if(wpRepositoryFlag==1){g[activeItem][0]=c}else{g[activeItem]=dLink}}if($(".activateItem").hasClass("active")){g.activate=true}if($(".overwriteItem").hasClass("active")){g.clearDestination=true}f.args["params"]=g;wpRepositoryFlag=0;$(".installFavourites").removeClass("disabled");doHistoryCall(ajaxCallPath,f)}function processAppSettings(a){$("#saveSettingsBtn").removeClass("disabled");$("#settings_cont .btn_loadingDiv").remove();$("#saveSuccess").show();setTimeout(function(){$("#settings_cont").hide();$("#saveSuccess").hide()},1000);$("#settings_btn").removeClass("active");loadSettingsPage(a)}function ajaxRepositoryCall(b){var a="";if(activeItem=="plugins"){a='<div class="th_sub rep_sprite" style="border-top:1px solid #D2D5D7;"> <div class="label" style="float:left;"><span style="margin-right:193px;">PLUGIN NAME</span></div> <div class="label" style="float:left;"><span style="margin-right:26px;">VERSION</span></div> <div class="label" style="float:left;"><span style="margin-right:28px;">RATING</span></div> <div class="label" style="float:left;"><span style="margin-top: -24px;">DESCRIPTION</span></div> </div><div class="wp_repository_search_results">'}else{a='<div class="wp_repository_search_results" style="border-top:1px solid #D2D5D7;"><div class="tr_theme" style="float:left">'}a=a+b.data.getWPRepositoryHTML;if(activeItem=="plugins"){a=a+"</div>"}else{a=a+'<div class="clear-both"></div></div></div>'}$(".wp_repository_cont").html(a);$(".searchItem").removeClass("disabled");$(".installSubPanel .btn_loadingDiv").remove();if($(".searchCont").is(":visible")&&$(".searchVar.active").attr("dval")!="search"){$(".searchCont").hide()}}function installFavourites(){var b={};var d=0,a,c;$(".favItems.active a").each(function(){a=$(this).attr("dlink");c=$(this).attr("utype");b[d]=a;d++});installItems("",b,2)}function getLinksAndInstallFavourites(){var b={};var f=0,a,d,c;$(".favItems.active a[dlink]").each(function(){c=$(this).attr("islug");a=$(this).attr("dlink");d=$(this).attr("utype");b[f]={};b[f]["slug"]=c;b[f]["downloadLink"]=a;f++});getFavDownloadLink(b)}function getFavDownloadLink(a){var c={};c.requiredData={};var b={};b.type=activeItem;b.searchItem={};b.searchItem=a;c.requiredData["getFavDownloadLinks"]=b;doCall(ajaxCallPath,c,"processFavLinks","json","none")}function processFavLinks(b){var a=b.data.getFavDownloadLinks;installItems("",a,2)}function removeActiveElements(){$("#view_content .applyChangesCheck").each(function(){if($(this).hasClass("active")){$(this).closest("ul").before('<div class="queued_single">Queued..</div>').remove()}})}function applyChanges(d){var b={};var h=0,g,f,i,c,a,l;closestVar=$(d).closest(".siteSearch");$(".applyChangesCheck.active").each(function(){if(!$(this).closest(".ind_row_cont").hasClass("hide")){g=$(this).attr("sid");f=$(this).attr("did");i=$(this).attr("utype");c=$(this).attr("action");a=$(this).attr("itemName");if(b[g]==undefined){b[g]={}}if(b[g][i]==undefined){b[g][i]={}}l={};l.name=a;l.path=f;l.action=c;if(activeItem=="themes"){l.stylesheet=$(this).attr("stylesheet")}b[g][i][h]=l;h++}});var j={};j.args={};j.args["params"]={};j.action="manage"+activeItem.toTitleCase();j.args["params"]=b;doHistoryCall(ajaxCallPath,j,"")}function isSiteSelected(a){var b=$(".website_cont.active",".siteSearch").length;if(b>0){return b}else{return false}}function triggerSettingsButton(){$("#saveSettingsBtn").removeClass("disabled")}function processSettingsForm(c){var a=c;c=c.data.updateAccountSettings;$("#saveSettingsBtn").removeClass("disabled");$("#settings_cont .btn_loadingDiv").remove();if(c.status=="error"&&c.error=="invalid_password"){var b=$("#currentPassword").closest(".valid_cont");$(".valid_error",b).show();$(".valid_error div",b).text("Invalid password. Kindly Check again.")}else{$("#saveSuccess").show();setTimeout(function(){$("#settings_cont").hide();$("#saveSuccess").hide()},1000);$("#settings_btn").removeClass("active");loadSettingsPage(a)}}function validateSettingsForm(){var b=false,c;var a=$("#newPassword").val();var d=$("#currentPassword").val();if(d==""){c=$("#currentPassword").closest(".valid_cont");$(".valid_error",c).show();$(".valid_error",c).text("Please enter the current password.");$("#currentPassword").addClass("error");return true}if(a==""){c=$("#newPassword").closest(".valid_cont");$(".valid_error",c).show();$(".valid_error",c).text("Please enter a new password.");$("#newPassword").addClass("error");return true}return b}function processReport(a){$("#modalDiv .btn_loadingDiv").remove();if(a.data.sendReportIssue==true){$("#modalDiv .form_cont").html('<span id="addSiteSuccessMsg"><span class="success_icon"></span>The report has been sent.</span>');$("#sendReportBtn").hide();setTimeout(function(){$("#modalDiv").dialog("close")},2000)}else{$("#modalDiv .form_cont").html('<span id="addSiteErrorMsg"><span class="fail_icon"></span>The report could not be sent. Try again or contact help@infinitewp.com</span></span>');$("#sendReportBtn").hide();setTimeout(function(){$("#modalDiv").dialog("close")},2000)}}function doCall(url,data,callback,dataType,animationLoad,historyRefreshCheck){if(stopAllAction==false){if(data.requiredData==undefined){data.requiredData={}}var isKill=false;if(data.requiredData["getHistoryPanelDetailedHTML"]==null&&data.requiredData["bypassHistoryAjaxCall"]!=1){data.requiredData["getHistoryPanelHTML"]=1;data.requiredData["isAddonPlanLimitExceededAttempt"]=1;data.requiredData["checkIsAddonPlanExpired"]=1;data.requiredData["getCurrentTimestamp"]=1}else{historyDetailRefreshFlag=false}if(data.requiredData["getHistoryPanelDetailedHTML"]==null&&activeProcessQueueActionID!=false){data.requiredData["getHistoryPanelDetailedHTML"]={};data.requiredData["getHistoryPanelDetailedHTML"]["actionid"]=activeProcessQueueActionID;historyDetailRefreshFlag=true}if(historyRefreshCheck==1&&historyRefreshCheckFlag==0){historyRefreshCheckFlag=1}else{if(historyRefreshCheck==1&&historyRefreshCheckFlag==1){return false}}if(animationLoad!="noProgress"){$("#process_queue .processQueueMoveOut").addClass("in_progress")}if(animationLoad==undefined){var animationLoad="normal";var loaderDiv="#loadingDiv"}if(animationLoad=="normal"){$(loaderDiv).show()}if(dataType==undefined){dataType="json"}$.ajax({traditional:true,type:"post",url:url,dataType:dataType,data:$.param(data),success:function(request){if(animationLoad=="normal"){$(loaderDiv).hide()}if(historyRefreshCheckFlag==0){$("#process_queue .processQueueMoveOut").removeClass("in_progress")}historyRefreshCheckFlag=0;if(request!=undefined&&request.logout!=undefined&&request.logout==true){window.location.href="login.php"}doCheckDoCallAndHistoryCallForMini(request,data);if(callback!=undefined){eval(callback+"(request)")}if(dataType=="json"&&callback!="reloadHistory"){reloadHistory(request)}if(updateAvailable==false&&request.updateAvailable!=undefined&&request.updateAvailable!=false){updateAvailable=request.updateAvailable;updateAvailableNotify=true;loadPanelUpdate(request.updateAvailable)}if(request!=undefined&&request.notifications!=undefined){fixedNotifications=request.notifications;loadFixedNotifications()}if(request!=undefined&&request.fireQueue!=undefined){fireQueue=request.fireQueue;processFireQueue()}if(request!=undefined&&request.addonAlertCount!=undefined){var addonAlertCount=parseInt(request.addonAlertCount);if(addonAlertCount>0){$("#iwpAddonsBtn .count").html(addonAlertCount).show()}else{$("#iwpAddonsBtn .count").hide()}}if(request!=undefined&&request.actionResult!=undefined&&request.actionResult.status!=undefined&&(request.actionResult.status=="partial"||request.actionResult.status=="error")){$("#historyQueue").show()}},error:function(){historyRefreshCheckFlag=0}})}}function processUpdateNow(a){var b='<iframe src="./update.php?action=appUpdate&newVersion='+a+'" height="170px" width="320px" border="0" ></iframe>';$(".updatePanelData").html(b)}function doHistoryCall(url,data,callback,dataType){if(stopAllAction==false){if(data.requiredData==undefined){data.requiredData={}}data.requiredData["getHistoryPanelHTML"]=1;data.requiredData["isAddonPlanLimitExceededAttempt"]=1;data.requiredData["checkIsAddonPlanExpired"]=1;data.requiredData["getCurrentTimestamp"]=1;$("#process_queue .processQueueMoveOut").addClass("in_progress");$("#historyQueue").show();$(".queue_ind_item_cont .content").prepend('<div class="queue_ind_item historyItem">Adding to queue ...<div class="clear-both"></div></div>');if(dataType==undefined){dataType="json"}$.ajax({traditional:true,type:"post",url:url,dataType:dataType,data:$.param(data),success:function(request){if(request.logout!=undefined&&request.logout==true){window.location.href="login.php"}doCheckDoCallAndHistoryCallForMini(request,data);if(dataType=="json"){reloadHistory(request)}if(callback!=undefined){eval(callback+"(request)")}if(updateAvailable==false&&request.updateAvailable!=undefined&&request.updateAvailable!=false){updateAvailable=request.updateAvailable;updateAvailableNotify=true;loadPanelUpdate(request.updateAvailable)}if(request!=undefined&&request.notifications!=undefined){fixedNotifications=request.notifications;loadFixedNotifications()}}})}}function cancelEvent(a){a=a?a:window.event;if(a.stopPropagation){a.stopPropagation()}if(a.preventDefault){a.preventDefault()}a.cancelBubble=true;a.cancel=true;a.returnValue=false;return false}jQuery.expr[":"].contains=function(c,d,b){return jQuery(c).text().toUpperCase().indexOf(b[3].toUpperCase())>=0};function getFirstKey(b,c){var a;$.each(b,function(d,f){if(c==2){$.each(f,function(h,g){a=g;return false})}else{a=d;return false}});return a}function getLastKey(a){$.each(a,function(b,c){tempVal=b});return tempVal}function makeHistorySelection(b,c,a){if(c==undefined){c="parent"}$(".queue_detailed","."+c).hide();if(!$("."+a).hasClass("active")){$(".historyItem","."+c).removeClass("active");$("."+a).addClass("active");$("#"+a).nanoScroller({stop:true});$("#"+a).show();$("#"+a).nanoScroller()}else{$("."+a).removeClass("active");$("#"+a).hide()}}function siteSelector(i){var d="",h;var g="";var b="";var a="";var f="";var c="";if(group!=null&&group!=undefined&&getPropertyCount(group)>0){$.each(groupOrderByName,function(j,l){$.each(l,function(m,n){if(n.siteIDs!=undefined){h=n.siteIDs.length}else{h=0}g=g+'<div class="group_cont rep_sprite" id="g'+m+'" gid="'+m+'" onclick=""><a title="'+n.name+'" >'+n.name+"</a></div>";f=f+'<div class="ind_groups row_arrow_left" id="g'+m+'" gid="'+m+'" onclick=""><a title="'+n.name+'" onclick=""><span class="count_cont">'+h+'</span><input name="" type="text" value="'+n.name+'" class="groupEditText" /></a>   <div class="del_conf"><div class="label">Sure?</div><div class="yes deleteGroup">Yes</div><div class="no deleteGroup">No</div></div><div class="edit_del_cont"> <div class=" rep_sprite bg "><span class="rep_sprite_backup edit editGroup"></span></div> <div class=" rep_sprite bg"><span class=" rep_sprite_backup del deleteConf"></span></div> </div></div>'})})}else{g="";f='<div class="empty_data_set websites"> <div class="line1" style="margin-top:200px;">Organize your WordPress sites into groups for easy managing.</div> <div class="line2">Go ahead. Create a group now.</div> <div class="arrow2"></div> </div>'}if(sitesList!=null&&sitesList!=undefined&&getPropertyCount(sitesList)>0){$.each(sitesList,function(j,l){if(l.network==1&&l.parent==0&&i==1){extraRestrictClass="disabled";extraTitle=" - Its a network subsite."}else{extraRestrictClass="";extraTitle=""}b=b+'<div class="website_cont searchable deselectGroups '+extraRestrictClass+'" id="s'+l.siteID+'"  sid="'+l.siteID+'" onclick=""><a title="'+l.name+extraTitle+'">'+l.name+"</a></div>";var m='<span class="left_favicon_img_'+j+'"></span>';c=c+'<div class="ind_sites searchable js_sites bottomSites"  blogPublic="'+l.blogPublic+'" id="s'+l.siteID+'" sid="'+l.siteID+'" onclick=""><a title="'+l.name+'" class="site_selector_name">'+m+l.name+"</a></div>"})}else{b="";c='<div class="empty_data_set websites"> <div class="line1">No websites added yet..</div> <div class="line2">That makes us sad. Come on.<br /> Lets add one of your WordPress sites.</div> <div class="add_site_arrow"></div> </div>'}d='<div class="site_selector1 shadow_stroke_box siteSearch"> <div class="bygroup"><div class="th rep_sprite"><div class="title">by <span class="droid700">Groups</span></div><div class="clear-both"></div></div>';d=d+'<div class="group_items_cont" ><div class="content"><div class="group_cont rep_sprite" id="g0" onclick=""><a>All Websites</a></div>';d=d+g+"</div></div></div>";d=d+'<div class="bywebsites"> <div class="th rep_sprite"> <div class="title">by <span class="droid700">Websites</span></div> <div class="type_filter"> <input name="" placeholder="type to filter" type="text" class="input_type_filter search_site" ><div class="clear_input rep_sprite_backup"  onclick=""></div> </div> <div class="select_cont"><span>Select: </span><a class="siteSelectorSelect">All</a><a class="siteSelectorSelect">Invert</a><a class="siteSelectorSelect">None</a></div> <div class="clear-both"></div> </div> <div class="website_items_cont"><div class="content">';d=d+b+'<div class="no_match hiddenCont" style="display:none">Bummer, there are no websites that match.<br />Try typing fewer characters.</div> <div class="clear-both"></div> </div></div> <div class="clear-both"></div> </div><div class="clear-both"></div></div>';a='<div id="bottom_sites_cont" style="display:none"><div id="bottom_left" class="float-left"><div class="list_cont nano"><div class="content"><div class="no_match hiddenCont" style="display:none">Bummer, there are no websites that match.<br />Try typing fewer characters.</div>';a=a+c+' </div> </div> <div class="bottom_bar rep_sprite"> <div class="select_box_cont select2_bottom float-left" >'+groupGenerate(1,"bottom")+'</div> <div class="rep_sprite toggle_manage_groups float-right"><a class="rep_sprite_backup" style="position:relative"><i class="fa fa-list-alt" style="top: 4px; left: 3px; color: rgb(115, 121, 135); font-size:16px;"></i></a></div> </div> <div class="bottom_subbar rep_sprite"><div style="position:relative;"><input name="" type="text" class="input_type_filter search_site" placeholder="type to filter" ><div onclick="" class="clear_input rep_sprite_backup"></div></div> </div> </div> <div id="bottom_right" class="float-left"> <div class="list_cont nano"> <div class="content">';a=a+f+' </div> </div> <div class="bottom_bar rep_sprite"><div class="btn_action float-right "><a class="rep_sprite btn_blue" id="save_group_changes" style="display:none" onclick="">Save Changes</a></div></div> <div class="bottom_subbar rep_sprite" id="createGroupCont"> <input name="" type="text" class="input_type_filter  float-left onEnter groupClear" onenterbtn=".btn_create_group" id="newgroup" placeholder="new group" > <div class="btn_create_group rep_sprite float-left user_select_no" >Create</div> </div> </div> </div> <div id="btn" class="showFooterSelector" onclick="">   </div><div class="site_bar_btn add_site rep_sprite float-left" style="margin-left: 54px;" id="addWebsiteContainer"><div class="btn_add_site rep_sprite_backup" id="addWebsite" style="position:relative"><i class="fa fa-plus" style="left: 11px;top: 5px;color: rgb(115, 121, 135);font-size:18px;"></i>Add Website</div></div>';bottomToolbarVar=a;if(i==1){siteSelectorRestrictVar=d}else{siteSelectorVar=d}}function pluginsThemesFavoritesSelector(){scontent="";totalSiteCount="";sgcontent="";sscontent="";bcontent="";bgcontent="";bscontent="";if(favouritesGroupData!=null&&favouritesGroupData!=undefined){$.each(favouritesGroupData,function(a,b){if(b.IDs!=undefined){totalSiteCount=b.IDs.length}else{totalSiteCount=0}sgcontent=sgcontent+'<div class="group_cont rep_sprite favGroup ind_site favItems searchable" style="width:250px!important;height: 30px !important;" gid="'+a+'" type="'+b.type+'" onclick=""><a type="'+b.type+'" title="'+b.name+'" >'+b.name+'</a><div class="rep_sprite remove_bg"><span class="rep_sprite_backup del delFavourites"></span></div></div>';bgcontent=bgcontent+'<div class="ind_groups" id="g'+a+'" gid="'+a+'" onclick=""><a title="'+b.name+'" onclick=""><span class="count_cont">'+totalSiteCount+'</span><input name="" type="text" value="'+b.name+'" class="groupEditText" /></a>   <div class="del_conf"><div class="label">Sure?</div><div class="yes deleteGroup">Yes</div><div class="no deleteGroup">No</div></div><div class="edit_del_cont"> <div class=" rep_sprite bg "><span class="rep_sprite_backup edit editGroup"></span></div> <div class=" rep_sprite bg"><span class=" rep_sprite_backup del deleteConf"></span></div> </div></div>'})}if(favourites!=null&&favourites!=undefined&&getPropertyCount(favourites)>0){$.each(favourites,function(b,a){$.each(a,function(c,d){sscontent=sscontent+'<div class="ind_site favItems searchable" style="width:235px; border-right:1px solid #f1f1f1"><a id="f'+d.ID+'"  utype="'+d.type+'" onclick="" dlink="'+d.URL+'" iname="'+d.name+'" title="'+d.name+'">'+d.name+'</a><div class="rep_sprite remove_bg"><span class="rep_sprite_backup del delFavourites "></span></div> </div>';bscontent=bscontent+'<div class="ind_site favItems searchable"><a id="f'+d.ID+'"  utype="'+d.type+'" onclick="" dlink="'+d.URL+'" iname="'+d.name+'" title="'+d.name+'">"'+d.name+'"</a><div class="rep_sprite remove_bg"><span class="rep_sprite_backup del delFavourites "></span></div> </div>'})})}else{sscontent="";bscontent='<div class="empty_data_set websites"> <div class="line1">No websites added yet..</div> <div class="line2">That makes us sad. Come on.<br /> Lets add one of your WordPress sites.</div> <div class="add_site_arrow"></div> </div>'}scontent='<div class="site_selector1 siteSearch"> <div class="bygroup" style="width: 249px;">';scontent=scontent+'<div class="group_items_cont favouritesGroup" ><div class="content fav_rows_cont">';scontent=scontent+sgcontent+"</div></div></div>";scontent=scontent+'<div class="bywebsites">   <div class="website_items_cont favouritesItems" ><div class="content fav_rows_cont favSearch">';scontent=scontent+sscontent+'<div class="no_match hiddenCont" style="display:none">Bummer, there are no websites that match.<br />Try typing fewer characters.</div> <div class="clear-both"></div> </div></div> <div class="clear-both"></div> </div><div class="clear-both"></div></div>';bcontent='<div id="bottom_sites_cont" style="display:none"><div id="bottom_left" class="float-left"><div class="list_cont nano"><div class="content"><div class="no_match hiddenCont" style="display:none">Bummer, there are no websites that match.<br />Try typing fewer characters.</div>';bcontent=bcontent+bscontent+' </div> </div> <div class="bottom_bar rep_sprite"> <div class="select_box_cont select2_bottom float-left" >'+groupGenerate(1,"bottom")+'</div> <div class="rep_sprite toggle_manage_groups float-right"><a class="rep_sprite_backup" style="position: relative;"><i class="fa fa-list-alt" style="top: 4px; left: 3px; color: rgb(115, 121, 135); font-size:16px;"></i></a></div> </div> <div class="bottom_subbar rep_sprite"><div style="position:relative;"><input name="" type="text" class="input_type_filter search_site" placeholder="type to filter" ><div onclick="" class="clear_input rep_sprite_backup"></div></div> </div> </div> <div id="bottom_right" class="float-left"> <div class="list_cont nano"> <div class="content">';bcontent=bcontent+bgcontent+' </div> </div> <div class="bottom_bar rep_sprite"><div class="btn_action float-right "><a class="rep_sprite btn_blue" id="save_group_changes" style="display:none" onclick="">Save Changes</a></div></div> <div class="bottom_subbar rep_sprite" id="createGroupCont"> <input name="" type="text" class="input_type_filter  float-left onEnter groupClear" onenterbtn=".btn_create_group" id="newgroup" value="new group" > <div class="btn_create_group rep_sprite float-left user_select_no" >Create</div> </div> </div> </div> <div id="btn" class="showFooterSelector" onclick="">   </div><div class="site_bar_btn add_site rep_sprite float-left" style="margin-left: 54px;" id="addWebsiteContainer"><div class="btn_add_site rep_sprite_backup" id="addWebsite">Add Website</div></div>';testingBottom=bcontent;favoritesGroupsContent=scontent}function triggerNanoScrollerFavoritesGroup(){if($(".favouritesGroup").css("height")!="0px"){$(".favouritesGroup").nanoScroller({alwaysVisible:true,scroll:"top"});$(".favouritesGroup").css("height","160px").addClass("nano");$(".favouritesGroup").nanoScroller()}$(".favouritesItems").nanoScroller({alwaysVisible:true,scroll:"top"});$(".favouritesItems").css("height","160px").addClass("nano");$(".favouritesItems").nanoScroller()}function updateInPage(c,n){var i=0;var h={};var g,d,j,a,l;var b=[];var f=[];h.selectedUpdates={};h.selector={};h.item={};h.allUpdates={};h.allUpdates["siteIDs"]={};h.allUpdates["itemIDs"]={};$("span.statusSpan",c).text("Queued..");$("span.statusSpan",c).addClass("updating");$("span.typeVar",c).hide();var o="#siteViewUpdateContent";$(".ind_row_cont",o).each(function(){var q=$(c).attr("selector");var p=$(this).attr("selector");if(n!=1&&n!=p&&(p!="plugins"&&p!="themes"&&p!="core"&&p!="translations")){return true}if(p=="plugins"||p=="themes"||p=="core"||p=="translations"){if(n!=1&&n!=$(this).attr("parent")){return true}a=$(this).attr("itemid");h.selector=p;if($(this).hasClass("active")){h[a]={};h[a]=$(this).attr("did");f.push(a)}else{h.selectedUpdates[a]={};h.selectedUpdates[a]=getSelectedUpdates(q,o)}}else{g=$(this).attr("siteid");h.selector="sites";l=$(this).attr("view");h.view=l;if($(this).hasClass("active")){b.push(g)}else{h.selectedUpdates[g]={};h.selectedUpdates[g]=getSelectedUpdates(q,o)}}});h.allUpdates["siteIDs"]=b;h.allUpdates["itemIDs"]=f;var m={};m.requiredData={};m.requiredData["updateInPage"]=h;doCall(ajaxCallPath,m,"processUpdateInPage","json")}function getSelectedUpdates(j,i){var f=0;var d={};var h={};var c,b,g;var a=[];$(".item_ind."+j+".active",i).not(".hide").not(".hidden").not(".updating").each(function(){if(!$(this).closest(".ind_row_cont").hasClass("hide")&&!$(this).closest(".ind_row_cont").hasClass("hidden")){$(".update_single",this).text("Queued..");$(".hideItem",this).hide();$(this).addClass("updating");$(this).removeClass("active");$(".row_checkbox",this).hide();c=$(this).attr("sid");b=$(this).attr("did");g=$(this).attr("utype");if(d[c]==undefined){d[c]={}}if(d[c][g]==undefined){d[c][g]={}}if(g=="core"){if(c!=undefined&&g!=undefined&&b!=undefined){d[c][g]=b}}else{if(c!=undefined&&g!=undefined&&b!=undefined){d[c][g][f]=b}}f++}});return d}function updateSites(a,l){var f=0;var d={};var j={},c,b,g;$("span.statusSpan",a).text("Queued..");$("span.statusSpan",a).addClass("updating");$("span.typeVar",a).hide();if(l==1){var m="#siteViewUpdateContent";var n=$(a).attr("selector");$(".item_ind."+n+".active",m).not(".hide").not(".hidden").not(".updating").each(function(){if(!$(this).closest(".ind_row_cont").hasClass("hide")&&!$(this).closest(".ind_row_cont").hasClass("hidden")){$(".update_single",this).text("Queued..");$(".hideItem",this).hide();$(this).addClass("updating");$(this).removeClass("active");$(".row_checkbox",this).hide();c=$(this).attr("sid");b=$(this).attr("did");g=$(this).attr("utype");if(d[c]==undefined){d[c]={}}if(d[c][g]==undefined){d[c][g]={}}if(g=="core"){if(c!=undefined&&g!=undefined&&b!=undefined){d[c][g]=b}}else{if(c!=undefined&&g!=undefined&&b!=undefined){d[c][g][f]=b}}f++}})}else{var i=$(a).closest(".item_ind");$(i).addClass("updating");$(".update_single",i).text("Queued..");$(".hideItem",i).hide();$(i).removeClass("active");$(".row_checkbox",i).hide();c=$(i).attr("sid");b=$(i).attr("did");g=$(i).attr("utype");if(d[c]==undefined){d[c]={}}if(d[c][g]==undefined){d[c][g]={}}if(g=="core"){if(c!=undefined&&g!=undefined&&b!=undefined){d[c][g]=b}}else{if(c!=undefined&&g!=undefined&&b!=undefined){d[c][g][0]=b}}}var h=$(a).closest(".ind_row_cont");if($(".item_ind",h).not(".hidden").not(".hide").length==$(".item_ind.updating",h).not(".hidden").not(".hide").length){$(h).addClass("updating");$(".select_action,.select_action_long",h).hide()}checkUpdateSelect(a);$("span.statusSpan",a).removeClass("updating");j.action="updateAll";j.args={};j.args["params"]=d;doCall(ajaxCallPath,j,"formArrayUpdateAll","json","none")}function resetFilterText(a){$(".input_type_filter",a).val("").focus().blur();$(".hiddenCont, .clear_input",a).hide()}function filterByGroup(b,f,c){var a=$("#mainUpdateCont .optionSelect.active").text();var g="",d="";if(b==""||b==undefined){closestVar=$("#bottomToolBarSelector")}else{closestVar=$(b).closest(".siteSearch")}$(".input_type_filter",closestVar).val("").focus().blur();$(".hiddenCont, .clear_input",closestVar).hide();if(f==0){$(".js_sites",closestVar).removeClass("hide").removeClass("groupHide");if(groupOperationFlag==2){if(a=="Websites"){$("#siteViewUpdateContent .js_sites").removeClass("hide").removeClass("groupHide")}else{$(".plugin_theme_wp_group_hide").removeClass("hide").removeClass("groupHide")}}}else{$(".js_sites",closestVar).removeClass("groupHide").addClass("hide").addClass("groupHide");if(groupOperationFlag==2){if(a=="Websites"){g="#siteViewUpdateContent .js_sites";d="siteid"}else{g=".plugin_theme_wp_group_hide";d="sid"}$(g).removeClass("groupHide").addClass("hide").addClass("groupHide")}if(getPropertyCount(group[f].siteIDs)>0){$.each(group[f].siteIDs,function(h,j){$('[sid="'+j+'"]',"#bottomToolBarSelector").removeClass("hide").removeClass("groupHide");if(groupOperationFlag==2){$(g).each(function(){if($(this).attr(d)==j){$(this).removeClass("hide").removeClass("groupHide")}})}})}}if(c==1){checkGeneralSelect("ind_row_cont")}}function filterByGroupUpdate(b,f,c){closestVar=$(b).closest(".siteSearch");var a=0;var d=0;if(f==0){$(".js_sites",closestVar).removeClass("hide");$("#siteViewUpdateContent .js_sites").removeClass("hide").removeClass("groupHide")}else{$(".js_sites",closestVar).removeClass("groupHide").addClass("hide").addClass("groupHide");classSelector="#siteViewUpdateContent .js_sites";siteAttr="siteid";$(classSelector).removeClass("groupHide").addClass("hide").addClass("groupHide");if(getPropertyCount(group[f].siteIDs)>0){$.each(group[f].siteIDs,function(g,h){$(classSelector).each(function(){if($(this).attr(siteAttr)==h){$(this).removeClass("hide").removeClass("groupHide")}})})}}$(classSelector).each(function(){a+=1;if($(this).hasClass("hide")){d+=1}});if(a==d){$("#siteViewUpdateContent .no_match").next(".group_error_message").remove();$("#siteViewUpdateContent .no_match").after('<div class="no_match group_error_message" >No updates available in this group</div>')}}function groupGenerate(b,d){var c="";if(b==2){var a=""}if(b==1){var f="_toolbar"}else{var f=""}if(d==undefined){d=incrementRand}c='<select name="rand_'+d+'" class="select_group'+f+'" tabindex="2"><option value="0">All Websites</option>';$.each(groupOrderByName,function(h,g){$.each(g,function(j,i){if(b==2){a=a+'<div class="ind_group js_addSite g'+j+'" gid="'+j+'"><a>'+i.name+"</a></div>"}c=c+'<option value="'+j+'">'+i.name+"</option>"})});c=c+"</select>";incrementRand++;if(b==2){a='<div class="group_selector"><div class="content">'+a+'</div><div class="clear-both"></div> </div>';return a}else{return c}}function selectorBind(a,b){if($(a).attr("selector")!="ind_row_cont"){selection(b,$(a).attr("selector"),a)}else{mainUpdateSelection(b,a)}}function showOrHide(b,c,d,a){d="#"+d;if(a==1){resetGroup()}if($(d).is(":visible")){$(d).hide();$(b).removeClass(c);if(toolTipData.manageGroups!="true"&&d=="#bottom_sites_cont"){$(".toggle_manage_groups").qtip("destroy")}}else{if(toolTipData.manageGroups!="true"&&d=="#bottom_sites_cont"){$(".toggle_manage_groups").qtip({events:{hide:function(g,f){tempArray={};tempArray.requiredData={};valArray={};valArray.manageGroups=true;tempArray.requiredData["updateUserhelp"]=valArray;tempArray.requiredData["getUserHelp"]=1;doCall(ajaxCallPath,tempArray,"setTooltipData")}},id:"manageGroupsQtip",content:{text:" ",title:{text:"Manage Groups",button:true}},position:{my:"bottom center",at:"top center",adjust:{y:-7}},show:{event:false,ready:true},hide:false,style:{classes:"ui-tooltip-shadow ui-tooltip-dark",tip:{corner:true,width:10,height:5}}})}$(d).show();$(b).addClass(c)}}function checkGroupName(b){var a=true;$.each(group,function(c,d){if(b.toLowerCase()==d.name.toLowerCase()){a=false;return false}});if(groupCreateArray!=undefined){$.each(groupCreateArray,function(c,d){if(d.toLowerCase()==b.toLowerCase()){a=false;return false}})}return a}function createGroup(){var c=$("#newgroup").val();if(checkGroupName(c)&&c!="new group"){$("#bottom_right > .list_cont > .content").animate({scrollTop:$("#bottom_right").height()},"slow");var b=c;var a='<div class="ind_groups row_arrow_left" id="gnew-'+groupCounter+'" gid="new-'+groupCounter+'" newgroup="1" ><a><span class="count_cont">0</span><input name="" type="text" value="'+b+'" class="groupEditText" /></a><div class="del_conf" style="display: none; "><div class="label">Sure?</div><div class="yes deleteGroup">Yes</div><div class="no deleteGroup">No</div></div><div class="edit_del_cont"> <div class=" rep_sprite bg "><span class="rep_sprite_backup edit editGroup"></span></div> <div class=" rep_sprite bg"><span class=" rep_sprite_backup del deleteConf"></span></div> </div></div>';$("#newgroup").val("new group").css("color","rgb(170, 170, 170)");if($(".ind_groups","#bottomToolBarSelector").length==0){$("#bottom_right > .list_cont > .content").html(a);showGroupSelectBox()}else{$("#bottom_right > .list_cont > .content").append(a)}$("#gnew-"+groupCounter).click();groupCreateArray["new-"+groupCounter]=b;groupCounter++;$("#save_group_changes").show()}else{if(c=="new group"||c==""){$("#createGroupCont").append("<div id='duplicateGroup'>Enter a group name.</div>")}else{$("#createGroupCont").append("<div id='duplicateGroup'>Group already exists. Try somethin' else.</div>")}}}function resetGroup(a){if(a==undefined){a=0}$("#bottom_toolbar #bottom_sites_cont .list_cont .ind_sites a").css({"background-position":"-25px 0",padding:"11px 0 9px 5px",width:"255px"});$("#bottom_right").hide();$("#bottom_toolbar #bottom_sites_cont .list_cont .ind_sites").removeClass("active");$(".ind_groups").removeClass("active");$(".select_group_toolbar").select2("enable");$(".toggle_manage_groups").removeClass("active");if(a==1){filterByGroup("",$(".select_group_toolbar").select2("val"))}groupEditFlag=0}function showGroupSelectBox(){if($.browser.msie&&$.browser.version=="8.0"){$("#bottom_toolbar #bottom_sites_cont .list_cont .ind_sites a").addClass("checkbox").css({"background-position":"0 0","padding-left":"30px",width:"230px"})}else{$("#bottom_toolbar #bottom_sites_cont .list_cont .ind_sites a").addClass("checkbox").animate({backgroundPosition:"0 0",paddingLeft:"30px",width:"230px"},300)}}function groupEdit(a){groupEditFlag=1;if($("#bottom_right").is(":visible")){$("#bottom_toolbar #bottom_sites_cont .list_cont .ind_sites a").removeClass("checkbox");resetGroup(1);$(a).removeClass("active")}else{$("#bottom_right").show();$(a).addClass("active");if($(".ind_groups","#bottomToolBarSelector").length>0){showGroupSelectBox();$(".select_group_toolbar").select2("disable");$(".js_sites","#bottomToolBarSelector").removeClass("hide");$(".ind_groups:first","#bottomToolBarSelector").click()}}}function expandThis(b,c){var a=$(b).closest(".ind_row_cont");if(c=="summary"){$(".row_summary",a).hide();$(".row_detailed",a).show()}else{$(".row_summary",a).show();$(".row_detailed",a).hide()}}function optionSelect(a,b){var c=0;if(b==1&&$(a).hasClass("active")){$(a).removeClass("active")}else{ulClass=$(a).closest("ul");if(b==1){$(".optionSelectOne",ulClass).removeClass("active");if($(a).attr("action")=="activate"&&activeItem=="themes"){$(".site"+$(a).attr("sid")).removeClass("active")}}else{$(".optionSelect",ulClass).removeClass("active")}$(a).addClass("active")}}function checkFavItems(){var a="favItems";var c=$("."+a,".favSearch").length;var b=$("."+a+".active",".favSearch").length;if(b==0){$(".status_"+a).addClass("disabled");$("#createFavoriteGroup").addClass("disabled");$("#createFavoriteGroup").css("opacity","0.5")}else{$(".status_"+a).removeClass("disabled");$("#createFavoriteGroup").css("opacity","1.0");$("#createFavoriteGroup").removeClass("disabled")}}function checkUpdateSelect(c,f){var d=$(c).attr("parent");var b=$(c).attr("selector");if(b=="item_ind"){var a="#siteViewUpdateContent";$(c).addClass("disabled");$(".ind_row_cont.active:not(.hide, .hidden, .hideVar) .row_checkbox",a).hide();$(".ind_row_cont.active:not(.hide, .hidden, .hideVar) .row_action .update_group",a).hide();$(".ind_row_cont.active:not(.hide, .hidden, .hideVar) .select_action,.select_action_long",a).hide();$(".ind_row_cont.active:not(.hide, .hidden, .hideVar)",a).not(".hide").removeClass("active").addClass("updating")}else{a=$(c).closest(".updateTabs");if($(".item_ind."+b,a).not(".hide").not(".hidden").not(".updating").length<1){if(d==b){$(".ind_row_cont."+b+" .select_action",a).hide()}else{$(".select_"+b,a).hide()}if(d!=undefined&&$(".item_ind."+d,a).not(".hide").not(".hidden").not(".updating").length<1){$(".ind_row_cont."+d+" .row_checkbox",a).hide();$(".ind_row_cont."+d,a).removeClass("active");$(".status_"+d,a).text("Update All").hide()}}if(d!=undefined&&d!=b){checkGeneralSelect(d,a)}checkGeneralSelect(b,a);checkGeneralSelect("ind_row_cont",a)}}function showHidden(){var a="#"+currentUpdatePage;$.each(updateCheckArray,function(d,c){var b=$(".item_ind."+d,a).not(".hide").not(".updating").length;if(b>0){$(".row_"+d).show();if(!$(".row_"+d,a).closest(".ind_row_cont").is(":visible")){$(".row_"+d,a).closest(".ind_row_cont'").show()}}})}function checkGeneralSelect(d,b,f){var h,g,a,c;if(f==undefined){f=0}if(b==undefined||b==""){b="#siteViewUpdateContent"}if(f==1){h=$(".item_ind."+d).not(".hide").not(".hidden").not(".updating").length;g=$(".item_ind.active."+d).not(".hide").not(".hidden").not(".updating").length}else{if(d!="ind_row_cont"){h=$(".item_ind."+d,b).not(".hide").not(".hidden").not(".updating").length;g=$(".item_ind.active."+d,b).not(".hide").not(".hidden").not(".updating").length}else{h=$("."+d,b).not(".hide").not(".hidden").not(".updating").length;g=$(".active."+d,b).not(".hide").not(".hidden").not(".updating").length}}if(h==0){if(f==1){$(".row_"+d).addClass("hideVar");if(viewHiddenFlag==0){$(".row_"+d).hide()}a=$(".row_"+d);c=$(".row_"+d).closest(".ind_row_cont");if($(".item_ind",a).not(".updating").not(".hidden").not(".hide").length<2){$(".select_"+d).slideUp()}if($(".item_ind",c).not(".updating").not(".hidden").not(".hide").length<1){if(viewHiddenFlag==0){$(".row_"+d).closest(".ind_row_cont'").hide()}$(".row_"+d).closest(".ind_row_cont'").addClass("hideVar").removeClass("active")}}$(".status_"+d).text("Update all");if(typeof isStaging!="undefined"&&isStaging==1){$(".th_sub.rep_sprite .label").first().css({"margin-right":"10%"})}else{$(".th_sub.rep_sprite .label").first().css({"margin-right":"0%"})}if(d=="ind_row_cont"){$(".status_"+d).addClass("disabled")}else{$(".status_"+d).closest(".update_group").hide()}}else{if(h!=0){if(f==1){$(".row_"+d).removeClass("hideVar");$(".row_"+d).show();a=$(".row_"+d);c=$(".row_"+d).closest(".ind_row_cont");if($(".item_ind",a).not(".updating").not(".hidden").not(".hide").length>1){$(".select_"+d).slideDown()}else{$(".select_"+d).hide()}if($(".item_ind",c).not(".updating").not(".hidden").not(".hide").length>1){$(".row_"+d).closest(".ind_row_cont'").show();$(".row_"+d).closest(".ind_row_cont'").removeClass("hideVar")}}if(h==g){$(".status_"+d).text("Update all ");if(typeof isStaging!="undefined"&&isStaging==1){$(".th_sub.rep_sprite .label").first().css({"margin-right":"10%"})}else{$(".th_sub.rep_sprite .label").first().css({"margin-right":"0%"})}if(d!="ind_row_cont"){$(".status_"+d).closest(".update_group").show()}else{$(".status_"+d).removeClass("disabled")}}else{if(g==0){$(".status_"+d).text("Update all ");if(d!="ind_row_cont"){$(".status_"+d).closest(".update_group").hide()}else{$(".status_"+d).addClass("disabled")}}else{$(".status_"+d).text("Update Selected ");if(typeof isStaging!="undefined"&&isStaging==1){$(".th_sub.rep_sprite .label").first().css({"margin-right":"6.4%"})}else{$(".th_sub.rep_sprite .label").first().css({"margin-right":"-3.6%"})}if(d!="ind_row_cont"){$(".status_"+d).closest(".select_action").show();$(".status_"+d).closest(".update_group").show()}else{$(".status_"+d).removeClass("disabled")}}}}}}function generalSelect(c,h,i){var d=0;var b=$(c).closest(".updateTabs");var g=$(c,b).closest(".ind_row_cont");if($(c).hasClass("active")){$(c).not(".hidden").not(".hide").not(".updating").removeClass("active");d=0}else{$(c).not(".hidden").not(".hide").not(".updating").addClass("active");d=1}if(h=="ind_row_cont"){if(d==0){$(".item_ind",c).not(".hide").not(".hidden").not(".updating").removeClass("active")}else{$(".item_ind",c).not(".hide").not(".hidden").not(".updating").addClass("active")}}else{if($(".item_ind.selectOption.active",g).not(".hide").not(".hidden").not(".updating").length<$(".item_ind.selectOption",g).not(".hide").not(".hidden").not(".updating").length){$(c).closest(".ind_row_cont").removeClass("active")}else{if($(".item_ind.selectOption.active",g).not(".hide").not(".hidden").not(".updating").length==$(".item_ind.selectOption",g).not(".hide").not(".hidden").not(".updating").length){$(c).closest(".ind_row_cont").addClass("active")}}}var f=$(c).attr("parent");var a=$(c).attr("selector");if(f!=undefined){checkGeneralSelect(f,b)}checkGeneralSelect(a,b);checkGeneralSelect("ind_row_cont",b)}var gFlag=0;var gAll=0;var currentGroup=0;function selectedGroupSelection(){var b=".siteSelectorContainer",a;$(".group_cont.active",b).each(function(){if($(this).attr("gid")!=undefined&&$(this).attr("gid")!=""){a=group[$(this).attr("gid")].siteIDs;if(a!=undefined&&getPropertyCount(a)>0){$.each(a,function(c,d){$("#s"+d,b).not(".disabled").addClass("active")})}}})}function makeSelectionPluginsThemesFavorites(b){$(".installFavourites").addClass("disabled");$("#createFavoriteGroup").addClass("disabled");$("#createFavoriteGroup").css("opacity","0.5");if($(b).hasClass("active")){var a=$(b).attr("gid");$(b).removeClass("active");$("a[group_id]").parent().removeClass("active");if(a=="g0"){$.each(favourites,function(d,c){$.each(c,function(f,g){$("a[ id=f"+g.ID+"]").parent().removeClass("active")})});$(".installFavourites").addClass("disabled");$("#createFavoriteGroup").addClass("disabled");$("#createFavoriteGroup").css("opacity","0.5")}else{if(favouritesGroupData[a].IDs!=undefined){$.each(favouritesGroupData[a].IDs,function(f,c){var d=$("a[ id=f"+c+"]").parent().removeClass("active")})}$(".installFavourites").addClass("disabled");$("#createFavoriteGroup").addClass("disabled");$("#createFavoriteGroup").css("opacity","0.5");$(".favGroup.active").each(function(){a=$(this).attr("gid");if(favouritesGroupData[a].IDs!=undefined){$.each(favouritesGroupData[a].IDs,function(d,c){favoritesCount=$("a[ id=f"+c+"]").parent().addClass("active");if(favoritesCount.length){$("#createFavoriteGroup").removeClass("disabled");$("#createFavoriteGroup").css("opacity","1.0");$(".installFavourites").removeClass("disabled")}})}})}}else{$("a[group_id]").parent().removeClass("active");$(b).addClass("active");var a=$(b).attr("gid");if(a=="g0"){$.each(favourites,function(d,c){$.each(c,function(g,h){var f=$("a[ id=f"+h.ID+"]").parent().addClass("active");if(f.length){$(".installFavourites").removeClass("disabled");$("#createFavoriteGroup").removeClass("disabled");$("#createFavoriteGroup").css("opacity","1.0")}})})}else{if(favouritesGroupData[a].IDs!=undefined){$.each(favouritesGroupData[a].IDs,function(f,c){var d=$("a[ id=f"+c+"]").parent().addClass("active");if(d.length){$("#createFavoriteGroup").removeClass("disabled");$("#createFavoriteGroup").css("opacity","1.0");$(".installFavourites").removeClass("disabled")}})}}}}function makeSelection(c,f,i){var l={},a,m;var j=0;var h=$(c).closest(".siteSearch");if($(c).hasClass("deselectGroups")){$(".group_cont",".siteSelectorContainer").removeClass("active")}if($(c).hasClass("active")){$(c).removeClass("active");gFlag=1}else{$(c).addClass("active");gFlag=2}if(i==1&&f!=1){var b=$(".ind_groups","#bottomToolBarSelector").length;if(groupEditFlag==0||b==0){$(c).removeClass("active")}var g=0;var d="#bottom_left  .list_cont .content  .active";if($(d,h).length>0){$(d,h).each(function(){l[g]=$(this).attr("sid");j++;g++})}else{l[0]="empty"}groupChangeArray[currentGroup]=l;$("#save_group_changes").show();$("#g"+currentGroup+"  a  .count_cont").html(j)}if(f==1){if(gAll==1){$(".group_items_cont  #g0",h).removeClass("active");$(".website_items_cont  .website_cont",h).removeClass("active");gAll=0}if(i==1){currentGroup=$(c).attr("gid");removeDeleteConf();if(gFlag==2){$(".ind_groups",h).removeClass("active");$(".ind_sites",h).removeClass("active")}a=$(c).addClass("active")}a=$(c).attr("gid");if(groupEditFlag==1&&(groupChangeArray[a]!=undefined)){m=groupChangeArray[a]}else{if($(c).attr("newgroup")!=1){m=group[a].siteIDs}else{m=""}}if(m!=undefined&&getPropertyCount(m)>0){$.each(m,function(n,o){if(gFlag==2){$("#s"+o,h).not(".disabled").addClass("active")}else{if(gFlag==1&&i!=1){$("#s"+o,h).not(".disabled").removeClass("active")}}})}selectedGroupSelection()}else{if(f=="all"){$(".group_items_cont  .group_cont",h).removeClass("active");if(gFlag==2){$(".website_items_cont .website_cont",h).not(".disabled").addClass("active");$(c).addClass("active");gAll=1}else{if(gFlag==1){$(".website_items_cont .website_cont",h).not(".disabled").removeClass("active");gAll=0}}}}}function mainUpdateSelection(c,a){var b="ind_row_cont";var d="#siteViewUpdateContent";if(c=="all"){$("."+b,d).not(".hide,.hidden,.updating,.hideVar").each(function(){$(this).addClass("active");$(".item_ind",this).not(".hide,.hidden,.updating,.hideVar").addClass("active")})}else{if(c=="none"){$("."+b,d).not(".hide,.hidden,.updating,.hideVar").each(function(){$(this).removeClass("active");$(".item_ind",this).not(".hide,.hidden,.updating,.hideVar").removeClass("active")})}else{if(c=="invert"){$("."+b,d).not(".hide,.hidden,.updating,.hideVar").each(function(){if($(this).hasClass("active")){$(this).removeClass("active");$(".item_ind",this).not(".hide,.hidden,.updating,.hideVar").removeClass("active")}else{$(this).addClass("active");$(".item_ind",this).not(".hide,.hidden,.updating,.hideVar").addClass("active")}})}}}checkGeneralSelect(b)}function selection(d,c,a,g){if(g==undefined){c=$("."+c)}else{var b=$(a).closest(g);c=$("."+c,b)}if(d=="all"){$(c).not(".hide,.updating,.hidden,.ind_row_cont,.disabled").addClass("active")}else{if(d=="none"){$(c).not(".hide,.updating,.hidden,.ind_row_cont,.disabled").removeClass("active")}else{if(d=="invert"){$(c).not(".hide,.updating,.hidden,.ind_row_cont,.disabled").each(function(){if($(this).hasClass("active")){$(this).not(".hide,.updating,.hidden,.ind_row_cont,.disabled").removeClass("active")}else{$(this).not(".hide,.updating,.hidden,.ind_row_cont,.disabled").addClass("active")}})}}}checkGeneralSelect(c);if(a){var f=$(a).attr("parent");if(f){checkGeneralSelect(f)}}}function checkSearchedList(d,c,b){if(b==2){if(c==""){var a="#siteViewUpdateContent"}else{var a=c}if(viewHiddenFlag==1){return $(".ind_row_cont",a).not(".hide").length}else{return $(".ind_row_cont",a).not(".hide").not(".hideVar").length}}else{return $(d,c).not(".hide").length}}function searchSites(b,f){clearTimeout(a);var d=".searchable";if($(b).val().length>0){$(b).next().show()}else{$(b).next().hide()}if(f==3){var c=".favSearch"}else{if(f==2){var c=$("#"+currentUpdatePage)}else{var c=$(b).closest(".siteSearch")}}var a=setTimeout(function(){if($(b).val().length>0&&$(b).val()!="type to filter"){if(f==2||f==4){$(d,c).closest(".ind_row_cont").not(".groupHide").removeClass("hide");$(d+":not(:contains("+$(b).val()+"))",c).closest(".ind_row_cont").not(".groupHide").addClass("hide");checkGeneralSelect("ind_row_cont");if(f==2){checkSearchListVar=checkSearchedList(d,"",2)}else{checkSearchListVar=checkSearchedList(d,c,2)}if(checkSearchListVar<1){$(".hiddenCont",c).show()}else{$(".hiddenCont",c).hide()}}else{$(d,c).not(".groupHide").removeClass("hide").show();if(f==3){$(d+":not(:contains("+$(b).val()+"))",c).hide().addClass("hide")}else{$(d+":not(:contains("+$(b).val()+"))",c).not(".groupHide").addClass("hide")}if(checkSearchedList(d,c)<1){$(".hiddenCont",c).show()}else{$(".hiddenCont",c).hide()}}}else{$(".hiddenCont",c).hide();if(f==2||f==4){$(d,c).closest(".ind_row_cont").not(".groupHide").removeClass("hide");checkGeneralSelect("ind_row_cont")}else{if(f==3){$(d,c).show().removeClass("hide")}else{$(d,c).not(".groupHide").removeClass("hide")}}}},300)}function validateForm(c){var a=0;var b={};$("#"+c+" .formVal").removeClass("error").each(function(){if($(this).attr("type")=="hidden"||$(this).is(":visible")){if($(this).hasClass("dropdown")){b[$(this).attr("id")]=$(this).attr("dropopt")}else{b[$(this).attr("id")]=$(this).val()}if($(this).hasClass("required")&&$(this).val()==""){if(!($("#cloneTestConnection").hasClass("testing")&&($(this).hasClass("testException")))){$(this).addClass("error");a=1}}}});$("#"+c+" .checkbox.active").each(function(){b[$(this).attr("id")]=1});if(a==1){b=false}if(c=="dropboxRepo"){b.consumer_key=dpConsumerKey;b.consumer_secret=dpConsumerSecret}return b}function processTestConnection(b,c,a){b=b.data.repositoryTestConnection;if(b.status=="success"){$("#"+a).removeClass("testing").addClass("success")}else{$("#"+a).removeClass("testing").addClass("error");$("#"+c+" .inner_cont").append('<div class="conn_test_error_cont profileStatusDiv"><div class="e_close"></div>'+b.errorMsg+'<div class="conn_test_error_cont_arrow"></div></div>')}}function processFTPTestConnection(a){a=a.data.FTPTestConnection;if(a.status=="success"){$("#testFTPConnection").removeClass("testing").addClass("successftp")}else{$("#testFTPConnection").removeClass("testing").addClass("error");$("#completeForm .inner_cont").append('<div class="conn_test_error_cont profileStatusDiv"style="margin-bottom: 32px;margin-right: 99px; position:absolute; "><div class="e_close"></div>'+a.errorMsg+'<div class="conn_test_error_cont_arrow"></div></div>')}}function installIWPAddons(c,d){if(d==1){var a="UPDATE"}else{var a="INSTALL"}if(addonSuiteMiniLimitExceeded("installAddons")){return(false)}var b='<div class="dialog_cont" style="width:750px;"> <div class="th rep_sprite"> <div class="title droid700">'+a+' ADDONS</div></div><iframe src="update.php?action='+c+'" height="500px" width="750px" id="infiniteWP"></iframe></div>';$("#modalDiv").dialog("destroy");$("#modalDiv").html(b).dialog({width:"auto",modal:true,position:"center",resizable:false,open:function(f,g){bottomToolBarHide()},close:function(f,g){bottomToolBarShow()}})}function checkIWPAddons(c){if(c==undefined){var a={};a.requiredData={};a.requiredData["forceCheckUpdate"]=1;a.requiredData["checkIsAddonPlanLimitExceeded"]=1;a.requiredData["getAddonPlanSiteLimit"]=1;a.requiredData["getAddonSuitePlanActivity"]=1;doCall(ajaxCallPath,a,"checkIWPAddons","json")}else{if(c.data.forceCheckUpdate.status=="netError"){var b=[];b[0]={message:c.data.forceCheckUpdate.errorMsg,state:"U",title:"Connection Error",type:"E"};fixedNotifications=b;loadFixedNotifications()}else{isAddonPlanLimitExceeded=c.data.checkIsAddonPlanLimitExceeded;addonPlanSiteLimit=c.data.getAddonPlanSiteLimit;addonSuitePlanActivity=c.data.getAddonSuitePlanActivity;isAddonSuiteMiniCancelMessage(c.data.isAddonSuiteMiniCancelMessage);loadAddonsPage()}}}function processIWPLogin(b){$(".loginIWP").removeClass("disabled");$(".btn_loadingDiv").remove();request=b.data.IWPAuthUser;if(request.error==1){if(request.passwordAuth==1){$(".dialog_cont .loginError").html("<div class='loginFailureError'>Invalid Username or Password. Kindly try again.</div>")}else{$(".dialog_cont .dialog_content").html(request.message).addClass("warn_conn_break_iframe");$(".bottom_bar").remove()}}else{if(request.netError==1){$(".dialog_cont .loginError").html("<div class='loginFailureError'>"+request.errorMsg+"</div>")}else{if(request.success==1){usernameTemp="";passwordTemp="";$("#modalDiv").dialog("close");var a=request.action;if(a=="installAddons"){installIWPAddons("installAddons&downloadToken="+request.token)}else{if(a=="register"){checkIWPAddons()}}}else{$(".dialog_cont .loginError").html("<div class='error'>Unknown error</div>")}}}}function processAddonActivation(b){var a=unescape(window.location.pathname)+"?page=addons";window.location.href=a}function objLen(b){var a=0;$.each(b,function(c,d){$.each(d,function(g,f){a++})});if(b==0){return 0}else{return a}}function maxLen(a){if(a>100){return"100+"}else{return a}}function hideSitesBasedOnGroup(){var a=$("#mainUpdateCont .optionSelect.active").text();var c="",b="";if(a=="Websites"){c="#siteViewUpdateContent .js_sites";b="siteId"}else{c=".plugin_theme_wp_group_hide";b="sid"}$(c).removeClass("groupHide").addClass("hide").addClass("groupHide");if(typeof group[currentGroupID]!="undefined"){if(group[currentGroupID].siteIDs!=null){$.each(group[currentGroupID].siteIDs,function(d,f){$(c).each(function(){if($(this).attr(b)==f){$(this).removeClass("hide").removeClass("groupHide")}})})}}else{$(c).removeClass("hide").removeClass("groupHide")}}function hideUninstallandInactiveSites(a,b){data={};if(b=="brokenLinks"){plugin_main_file="broken-link-checker/broken-link-checker.php";pluginName="Broken Link Checker"}else{if(b=="wordFence"){plugin_main_file="wordfence/wordfence.php";pluginName="WordFence"}else{if(b=="yoastWpSeo"){plugin_main_file="wordpress-seo-premium/wp-seo-premium.php";pluginName="WP SEO by Yoast"}else{if(b=="ithemesSecurity"){plugin_main_file="better-wp-security/better-wp-security.php";pluginName="iThemes Security"}}}}$.each(a,function(d,c){if(plugin_main_file in c){if(typeof c[plugin_main_file]!="undefined"&&c[plugin_main_file]!=null){data[d]=[c[plugin_main_file]["isInstalled"],c[plugin_main_file]["isActivated"]]}else{data[d]=[null,null]}}else{data[d]=[false,false]}});$(".website_cont").each(function(){var c=$(this).attr("sid");if(typeof data[c]!="undefined"&&data[c]!=null&&typeof data[c][0]!="undefined"&&data[c][1]!="undefined"&&data[c][0]!=null&&data[c][1]!=null){if(data[c][0]&&!(data[c][1])){if(b=="yoastWpSeo"){if($(this).find(".tips").length==0){$(this).append('<div class="tips" >Please Activate Premium '+pluginName+"</div>")}}else{if($(this).find(".tips").length==0){$(this).append('<div class="tips" code="1">Click to Activate '+pluginName+"</div>")}}if(!($(this).hasClass("disabled"))){$(this).addClass("disabled")}}else{if(!data[c][0]&&!(data[c][1])){if(b=="yoastWpSeo"){if($(this).find(".tips").length==0){$(this).append('<div class="tips" >Please Install & Activate Premium '+pluginName+"</div>")}}else{if($(this).find(".tips").length==0){$(this).append('<div class="tips"  code="0">Click to Install & Activate '+pluginName+"</div>")}}if(!($(this).hasClass("disabled"))){$(this).addClass("disabled")}}else{if(data[c][0]&&(data[c][1])){$(this).removeClass("disabled");$(this).find(".tips").remove()}}}}else{if($(this).find(".tips").length==0){$(this).append('<div class="tips">Not communicable. Please reload data.</div>')}if(!($(this).hasClass("disabled"))){$(this).addClass("disabled")}}})}function getRecentPluginsStatusAndCheck(a){if(typeof a!="undefined"&&typeof a.data.getRecentPluginsStatus!="undefined"){pluginsStatus=a.data.getRecentPluginsStatus}hideUninstallandInactiveSites(pluginsStatus,currentPage);siteSelectorNanoReset()}function clickAnchor(){var b=0;var c=".this_download_backup_"+b;b=parseInt($(c).siblings(".download").attr("back_var"));var a=parseInt($(c).siblings(".download").attr("back_var_total"));if(b<a){c=".this_download_backup_"+b;b+=1;$(".download").attr("back_var",b);$(c)[0].click()}}function getFilesArrayFromIwpPart(b){var d={};if(b.indexOf("_iwp_part")>=0){var c=b.substr(0,b.indexOf("_iwp_part_"));var a=b.substr((b.indexOf("_iwp_part_")+10));var a=a.substr(0,a.length-4);for(k=0;k<=a;k++){if(k==0){d[k]=c+".zip"}else{d[k]=c+"_iwp_part_"+k+".zip"}}return d}else{d[0]=$backup_file;return $backup_file}}function getIWPTitle(b){var c="IWP";var a="";if(b.find("a").length){if(b.find("a").find("span").length){c+=" - "+b.find("a").find("span:first").html();a=b.find("a").find("span:first").html()}else{c+=" - "+b.find("a").html();a=b.find("a").html()}}c=c.replace("&amp;","&");document.title=c;$(".page_section_title").html(a)}function processSettingsUpdate(c){if(typeof c!="undefined"&&typeof c.data!="undefined"){var a=c.data;if(typeof a.googleServicesSaveAPIKeys!="undefined"){a=a.googleServicesSaveAPIKeys;$("#googleSaveSettingsBtn").removeClass("disabled");$(".settings_cont .btn_loadingDiv").remove();if(a!=false){$("#googleSaveSuccess").show();setTimeout(function(){$("#googleSaveSuccess").hide()},1000);$("#settings_btn").removeClass("active");settingsData.data["getSettingsAll"]["settings"]["google"]["clientID"]=a.clientID;settingsData.data["getSettingsAll"]["settings"]["google"]["clientSecretKey"]=a.clientSecretKey}}else{$("#saveSettingsBtn").removeClass("disabled");$(".settings_cont .btn_loadingDiv").remove();if(typeof a.updateAccountSettings!="undefined"){if(a.updateAccountSettings.status=="error"&&a.updateAccountSettings.error=="invalid_password"){var b=$("#currentPassword").closest(".valid_cont");$(".valid_error",b).show();$(".valid_error",b).text("You seem to have got the current password wrong. Please check it.");$("#currentPassword").addClass("error")}else{$("#saveSuccess").show();setTimeout(function(){$("#saveSuccess").hide()},1000);$("#settings_btn").removeClass("active");settingsData.data["getSettingsAll"]["accountSettings"]=a.getSettingsAll.accountSettings;settingsData.data["getSettingsAll"]["settings"]["notifications"]=a.getSettingsAll.settings.notifications}}else{if((typeof a.updateSettings!="undefined"&&a.updateSettings==true)||(typeof a.updateSecuritySettings!="undefined"&&a.updateSecuritySettings==true)){$("#saveSettingsBtn").removeClass("disabled");$(".settings_cont").find(".btn_loadingDiv").remove();$("#saveSuccess").show();setTimeout(function(){$("#saveSuccess").hide()},1000);$("#settings_btn").removeClass("active");settingsData.data["getSettingsAll"]["settings"]["general"]=a.getSettingsAll.settings.general;if(typeof a.getSettingsAll.settings.emailSettings!="undefined"){settingsData.data["getSettingsAll"]["settings"]["emailSettings"]=a.getSettingsAll.settings.emailSettings}}else{if(typeof a.updateSecuritySettings!="undefined"&&a.updateSecuritySettings==true){$("#saveSuccess").show();setTimeout(function(){$("#saveSuccess").hide()},1000);settingsData.data["getSettingsAll"]["settings"]["general"]["httpAuth"]=a.getSettingsAll.settings.general.httpAuth;$("#settings_btn").removeClass("active");if($("#enableHTTPS").hasClass("checked")){window.location.reload()}}else{if(typeof a.saveAppUpdateSettings!="undefined"&&a.saveAppUpdateSettings!=false){$("#saveSuccess").show();setTimeout(function(){$("#saveSuccess").hide()},1000);$("#settings_btn").removeClass("active");isDirectFS=a.saveAppUpdateSettings.isDirectFS;settingsData.data["getSettingsAll"]["settings"]["FTP"]=a.saveAppUpdateSettings.FTPValues}else{if(typeof a.saveConnectionMethod!="undefined"&&a.saveConnectionMethod!=false){$("#saveSuccess").show();setTimeout(function(){$("#saveSuccess").hide()},1000);$("#settings_btn").removeClass("active");settingsData.data["getSettingsAll"]["connectionMethodData"]=a.saveConnectionMethod}}}}}}}}function openSettingsPage(a){if(currentUserAccessLevel!="admin"){a="Account"}document.title="InfiniteWP - Settings";$(".page_section_title").html("Settings");$("#header_nav .first-level").removeClass("active_color");var b=getSettingsContent(a);$("#pageContent").html(b).show();$('.settings_nav li:contains("'+a+'")').addClass("active");$('.settings_nav li:contains("App Update")').removeClass("active");loadSettingsPage(settingsData,a);closeDialogs(2)}function processUpdateNotifCount(a){$(".notif_count").hide()}function updateNotificationContent(){var a={};a.requiredData={};a.requiredData["updateNotificationContent"]=1;doCall(ajaxCallPath,a,"processUpdateNotificationContent","json","none")}function processUpdateNotificationContent(b){$(".weekly_deal_cont").remove();if(typeof b!="undefined"&&typeof b.data!="undefined"){b=b.data;if(typeof b!="undefined"&&typeof b.updateNotificationContent!="undefined"){b=b.updateNotificationContent;if(typeof b!="undefined"&&typeof b.center_html!="undefined"&&b.center_html!=""){$(".notif_data_list").html(b.center_html);$(".notif_btn").show()}if(typeof b!="undefined"&&typeof b.offer_hmtl!="undefined"&&b.offer_hmtl!=""){if(b.offer_hmtl==""){$(".weekly_deal_cont").remove()}else{$(".weekly_deal_cont").remove();$(".notif_data_list").append('<div class="weekly_deal_cont cf">'+b.offer_hmtl+"</div>")}$(".notif_btn").show()}if(typeof b!="undefined"&&typeof b.notif_count!="undefined"){$(".notif_count").html(b.notif_count);if(b.notif_count!=0){$(".notif_count").show()}else{$(".notif_count").hide()}}}}if(typeof showCustomLanUpdateNotes!="undefined"&&showCustomLanUpdateNotes==1){var a='<div id="showCustomLanUpdateNotes" style="border-left-width: 2px; border-left-style: solid; border-left-color: #AAAAAA; padding: 10px; background-color: #e7e9eb;margin-top:20px; line-height:1.5">For client reporting to work effectively and avoid language mismatch, please update the custom language file. <a id="confirmCustomLanUpdateNotes" style="float:right">Dismiss</a></div>';$("#panelNotifyHtml").prepend(a);$("#confirmCustomLanUpdateNotes").qtip({content:{text:"Note: Please dismiss the notification to </br> confirm your update."},position:{my:"top center",at:"bottom center"},show:{event:"mouseenter"},hide:{event:"mouseleave"},style:{classes:"ui-tooltip-shadow ui-tooltip-tipsy",tip:{corner:true,width:9,height:4}}})}}function showTweetDialog(g){var f=["Update all plugins/themes across multiple %23wordpress sites in a single click with %40infinitewp & save a lot of time infinitewp.com","Update your plugins/themes on multiple %23wordpress in a single click and save time using %40infinitewp. And its Free%21 infinitewp.com","I updated all my plugins/themes on multiple %23wordpress sites in a single click. Thanks to %40infinitewp "+IWPSiteURL+" Huge time saver","Managing updates, installing new plugins across all %23wordpress sites is now a click of a button with %40infinitewp infinitewp.com"];var i=["I use %40infinitewp to manage and update multiple %23wordpress sites. It saves me a lot of time and its Awesome%21%21 infinitewp.com","Managing multiple %23wordpress sites is a breeze with %40infinitewp. And its Free! infinitewp.com","I manage and update all my %23wordpress sites using %40infinitewp. Its simple, fast and free. infinitewp.com"];var b=Math.floor((Math.random()*3)+0);var a="";var d="";if(g=="update_all"){a=f[b];d="You have updated everything successfully.";updateAllTweetStatus="done"}else{if(g="three_sites"){if(b>2){b-=1}a=i[b];d="You have added your wordpress site successfully.";threeSitesTweetStatus="done"}}var h="https://twitter.com/intent/tweet?text="+a;var c="";c='<div class="dialog_cont" style="width:600px;"> <div class="th rep_sprite"> <div class="title droid700">HI-FIVE</div></div><div style="font-size: 14px; text-align:center; line-height:22px; padding: 10px 0 10px;margin: 40px 30px 20px;background-color: #e0f5de;border-radius: 5px;">'+d+'</div><div style="font-size: 16px; text-align:center; line-height:22px; padding: 20px 0 10px;"> Do you find InfiniteWP useful?<br>   Let your friends know. They will thank you later.</div> <div style="border: 1px solid #ebebeb;border-radius: 5px;text-align: center;margin: 10px 60px 30px;">   <div style="font-weight:600; padding: 30px; font-size: 15px; line-height: 22px;">'+replaceSpecChars(a)+'</div>   <div style="background-color:#f9f9f9 ; padding: 15px 0;"><a style="background-color:#53a8e9 ; color:#fff; border:1px solid #3b88c3 ; padding: 10px 20px;border-radius: 5px;display: block;width: 80px;margin: auto;" type="'+g+'" class="tweet_this" tweet_url="'+h+'">Tweet</a></div> </div> <div style="text-align:center; padding: 14px 0px 16px 0px; "><a class="twitter_dismiss" type="'+g+'" style="font-size: 11px; color: #555;">No, Thanks</a></div></div>';$("#modalDiv").dialog("destroy");$("#modalDiv").html(c).dialog({width:"auto",modal:true,position:"center",resizable:false,open:function(l,j){bottomToolBarHide()},close:function(l,j){bottomToolBarShow()}})}function replaceSpecChars(b){var a=b.split("%21").join("!");a=a.split("%23").join("#");return a.split("%40").join("@")}function processIwpTweetStatus(a){}function processTestSendMail(a){var b={};b.requiredData={};b.requiredData["testSendMail"]=1;doCall(ajaxCallPath,b,"processAfterTestSendMail","json","none")}function processAfterTestSendMail(a){$(".btn_loadingDiv").remove();$(".test_send_mail_smtp").removeClass("disabled")}function validateEmailSettingsAndGetValue(){var f=$(".email_settings #fromEmail").val();var a=0;var h="";var d=0;if(f){if(!echeck(f)){$(".email_settings #fromEmail").addClass("error");$("#saveSettingsBtn").removeClass("disabled");$(".btn_loadingDiv").remove();return false}}var b;var c={};c.fromEmail=f;c.fromName=$(".email_settings #fromName").val();c.smtpSettings={};var g={};if($(".email_settings #useSmtp").hasClass("active")){b=validateForm("smtpProcess");if(b){g.smtpHost=$(".email_settings #smtpHost").val();g.smtpPort=$(".email_settings #smtpPort").val();g.smtpAuthUsername=$(".email_settings #smtpAuthUsername").val();g.smtpAuthPassword=$(".email_settings #smtpAuthPassword").val();if($(".email_settings #noEncryption").hasClass("active")){h=""}if($(".email_settings #sslEncryption").hasClass("active")){h="ssl"}if($(".email_settings #tlsEncryption").hasClass("active")){h="tls"}g.smtpEncryption=h;if($(".email_settings #yesSmtpAuth").hasClass("active")){a=1}g.smtpAuth=a;c.smtpSettings=g}else{$("#saveSettingsBtn").removeClass("disabled");$(".btn_loadingDiv").remove();return false}}if($(".email_settings #useSmtp").hasClass("active")){d=1}g.useSmtp=d;c.smtpSettings=g;return c}function getAppendedForEach(b){var a="";$.each(b,function(d,c){a+=c});return a}function iwpIsEmpty(a){if(a===undefined){return true}else{if(a===null){return true}else{if(a==""){return true}else{if(a=="undefined"){return true}}}}}var fileTreePath="lib/JqueryfileTree/connectors/jqueryFileTree.php";function singleSiteSelector(){var a="";if(sitesList!=null&&sitesList!=undefined&&getPropertyCount(sitesList)>0){$.each(sitesList,function(b,c){a=a+'<div class="single_website_cont searchable"  id="s'+c.siteID+'" sid="'+c.siteID+'" onclick=""><a title="'+c.name+'">'+c.name+"</a></div>"});a='<div class="single_site_selector shadow_stroke_box siteSearch"><div class="th rep_sprite"><input name="" placeholder="type to filter" type="text" class="input_type_filter search_site" style="color: rgb(170, 170, 170); "></div><div class="single_website_items_cont"><div class="content">'+a+'<div class="no_match hiddenCont" style="display:none">Bummer, there are no websites that match.<br />Try typing fewer characters.</div><div class="clear-both"></div></div><div class="pane"></div> <div class="clear-both"></div> <div class="clear-both"></div></div></div>'}else{a='<div class="single_website_items_cont"><div class="no_match hiddenCont">No websites added yet.</div> <div class="clear-both"></div> <div class="clear-both"></div></div>'}return a}function siteSelectorNanoSingle(){if($.browser.msie&&$.browser.version=="8.0"){$(".single_website_items_cont .single_website_cont:nth-child(3n+3)").css({width:"235px","border-right":"0"})}$(".single_website_items_cont.nano").nanoScroller({stop:true});$(".single_website_items_cont").css("height",$(".single_website_items_cont").height()).addClass("nano");$(".single_website_items_cont.nano").nanoScroller()}function loadFileTreeCommon(b,i){i.prepend('<div class="loadingFileTree">loading</div>');var g={};if($(".c_radio.active").attr("id")==="stagingDomainServer"){var f=$(".c_radio.active").attr("sid");g.hostName=site[f].ftpDetails.hostName;g.hostPort=site[f].ftpDetails.hostPort;g.hostUserName=site[f].ftpDetails.hostUserName;g.hostPassword=site[f].ftpDetails.hostPassword;g.useSftp=site[f].ftpDetails.use_sftp;g.hostSSL=site[f].ftpDetails.hostSSL;g.hostPassive=site[f].ftpDetails.hostPassive;g.root=$("#remoteFolder").val();if($(b).find("#hostSSL").hasClass("active")){g.hostSSL=1}else{if(!g.hostSSL){g.hostSSL=0}}if($(b).find("#hostPassive").hasClass("active")){g.hostPassive=1}else{if(!g.hostPassive){g.hostPassive=0}}}else{if($(".c_radio.active").attr("id")==="stagingDefaultServer"){var c=settingsData.data.getSettingsAll.settings.mainStagingFtpDetails;g.hostName=c.hostName;g.hostPort=c.hostPort;g.hostUserName=c.hostUserName;g.hostPassword=c.hostPassword;g.useSftp=c.use_sftp;g.hostSSL=c.hostSSL;g.hostPassive=c.hostPassive;g.root=$("#remoteFolder").val();if($(b).find("#hostSSL").hasClass("active")){g.hostSSL=1}else{if(!g.hostSSL){g.hostSSL=0}}if($(b).find("#hostPassive").hasClass("active")){g.hostPassive=1}else{if(!g.hostPassive){g.hostPassive=0}}}else{if($(b).find("#use_sftp").hasClass("active")){var d=1}else{var d=""}g.hostName=$(b).find("#hostName").val();g.hostPort=$(b).find("#hostPort").val();g.hostUserName=$(b).find("#hostUserName").val();g.hostPassword=$(b).find("#hostPassword").val();g.useSftp=d;g.root=$(b).find("#remoteFolder").val();if($(b).find("#hostSSL").hasClass("active")){g.hostSSL=1}else{g.hostSSL=0}if($(b).find("#hostPassive").hasClass("active")){g.hostPassive=1}else{g.hostPassive=0}}}if(!g.root){g.root=""}else{var a=g.root.substr(-1);if(a!="/"){g.root=g.root+"/"}}var h="lib/JqueryfileTree/connectors/jqueryFileTree.php";$(i).fileTree({e_object:i,root:g.root,script:h,ftp_details:g},function(){})}function fileTreeValidate(b){var a=true;$(".fileTreeVal",b).each(function(){if($(this).val()==""){$(this).addClass("error");a=false}});return a}function afterTestConnectionIC(b){var a=0;$("#cloneTestConnection").removeClass("disabled");$("#stage_this_site").removeClass("disabled");if(typeof b=="undefined"&&typeof b.data=="undefined"){$("#cloneTestConnection").removeClass("testing");$("#totalBtnAction").removeClass("disabled")}if(typeof b.data.getICTestConnectionResult!="undefined"){if(typeof b.data.getICTestConnectionResult.error!="undefined"&&b.data.getICTestConnectionResult.error!=""){$("#cloneTestConnection").removeClass("testing").addClass("error");$("#clonePanel .inner_cont").append('<div class="conn_test_error_cont profileStatusDiv"><div class="e_close"></div>'+b.data.getICTestConnectionResult.error+'<div class="conn_test_error_cont_arrow"></div></div>')}else{if(typeof b.data.getICTestConnectionResult.success!="undefined"&&b.data.getICTestConnectionResult.success!=""){$("#cloneTestConnection").removeClass("testing").addClass("success")}else{a=1}}}else{if(typeof b.data.stagingGetICTestConnectionResult!="undefined"){if(typeof b.data.stagingGetICTestConnectionResult.error!="undefined"&&b.data.stagingGetICTestConnectionResult.error!=""){$("#cloneTestConnection").removeClass("testing").addClass("error");$(".cloneTestConnectionTh").append('<div class="conn_test_error_cont profileStatusDiv" style="margin: 30px -14px;"><div class="e_close"></div>'+b.data.stagingGetICTestConnectionResult.error+'<div class="conn_test_error_cont_arrow"></div></div>')}else{if(typeof b.data.stagingGetICTestConnectionResult.success!="undefined"&&b.data.stagingGetICTestConnectionResult.success!=""){$("#cloneTestConnection").removeClass("testing");$("#cloneTestConnection").addClass("successftp")}else{a=1}}}else{a=1}}if(a==1){$("#cloneTestConnection").removeClass("testing").addClass("error");$("#clonePanel .inner_cont").append('<div class="conn_test_error_cont profileStatusDiv"><div class="e_close"></div>Could not connect to server. Please try again<div class="conn_test_error_cont_arrow"></div></div>')}$("#totalBtnAction").removeClass("disabled")}function processFillDetails_IC_Common(b){$("#fillDetails").removeClass("disabled");$("#clonePanel .btn_loadingDiv").remove();if(typeof b!="undefined"){if(typeof b.error!="undefined"&&b.error!=""){$(".cpanelAutofill .errorMsg").html(b.error).show()}else{if(typeof b.data.autoFillInstallCloneCommonCpanel!="undefined"){var a=b.data.autoFillInstallCloneCommonCpanel}}if(typeof a!="undefined"&&!iwpIsEmpty(a)){$("#hostName").val(a.cpHost);$("#hostUserName").val(a.cpUser);$("#hostPassword").val(a.cpPass);$("#dbName").val(a.dbName);$("#dbPassword").val(a.dbPass);$("#dbUser").val(a.dbUser);$(".cancel").click()}}}function formArrayTestCloneConnection(a){formArrayVar[a.actionResult.actionID]={};formArrayVar[a.actionResult.actionID]["function"]="testCloneConnection"}function populateProfileDropDown_IC_Common(d){if(typeof d!="undefined"&&typeof d.data!="undefined"&&typeof d.data.installCloneGetProfile!="undefined"){var c=d.data.installCloneGetProfile.accountInfo;var a="#installClone"}else{if(typeof d.data.stagingGetStagingFtpDetails!="undefined"){var c=d.data.stagingGetStagingFtpDetails;var a=".staging_modal #stagingFtpForm"}else{if(typeof d.data.stagingGetMainStagingFtpDetails!="undefined"){var c=d.data.stagingGetMainStagingFtpDetails;if($("#stagingDefaultServer").hasClass("active")===true){a=".staging_modal #stagingFtpForm";b=0}else{if($("#stagingTab").is(":visible")){var a=".settingsItem #stagingFtpForm";var b=1}}}else{if(typeof d.data.stagingGetSiteFtpDetails!="undefined"){var c=d.data.stagingGetSiteFtpDetails;var a=".ftpSettingsItem #stagingFtpForm";if($("#stagingDomainServer").hasClass("active")){a=".staging_modal #stagingFtpForm"}}}}}$("#adminEmail",a).val(c.adminEmail);if(c.dbName){$("#dbHost",a).val(c.dbHost)}else{$("#dbHost",a).val("localhost")}$("#dbName",a).val(c.dbName);$("#dbPassword",a).val(c.dbPassword);$("#dbPrefix",a).val(c.dbPrefix);$("#dbUser",a).val(c.dbUser);$("#hostName",a).val(c.hostName);if(c.hostPort){$("#hostPort",a).val(c.hostPort)}else{$("#hostPort",a).val("21")}$("#hostPassword",a).val(c.hostPassword);$("#hostUserName",a).val(c.hostUserName);$("#newSiteURL",a).val(c.newSiteURL).css("color","#676C70");$("#newUserName",a).val(c.newUserName);$("#newUserPassword",a).val(c.newUserPassword);$("#remoteFolder",a).val(c.remoteFolder);$("#hostPassive",a).addClass("active");if(c.hostPassive=="1"){$("#hostPassive",a).addClass("active")}else{if(c.hostPassive!="1"){$("#hostPassive",a).removeClass("active")}}$(".c_radio.FTPConnectionType:not(.site_toggle)").removeClass("active");if(c.use_ftp=="1"){$("#use_ftp",a).addClass("active")}else{if(c.hostSSL=="1"){$("#hostSSL",a).addClass("active")}else{if(c.use_sftp=="1"){$("#use_sftp",a).addClass("active")}else{$("#use_ftp",a).addClass("active")}}}if(typeof stagingUpdateInStagingSetting!="undefined"&&stagingUpdateInStagingSetting==1){$("#update_in_staging_switch").addClass("active")}}function doCloneTestConnection(c){if(iwpIsEmpty(c)){return false}var g=c.divObj;var b=c.type;$("#selectDestination .inner_cont .conn_test_error_cont").remove();if($(g).hasClass("testing")){return false}$(g).removeClass("error success");$(g).addClass("testing");if($(g).hasClass("staging_settings")||$(g).parent().hasClass("stagingTestConnection")){var a=validateForm("stagingFtpForm")}else{var a=validateForm("clonePanel")}if(iwpIsEmpty(a)){$(g).removeClass("testing");$("#totalBtnAction").removeClass("disabled")}var f={};f.action="installCloneCommonNewSite";f.args={};f.args["params"]={};if(a.sourceID!==undefined&&a.sourceID!=""){f.args["siteIDs"]={};f.args["siteIDs"][0]=a.sourceID;a.sourceID={};f.action="installCloneExistingSite"}f.args["params"]=a;if(a.newSiteURL!=undefined){f.args["params"]["newSiteURL_b64encoded"]=$.base64("btoa",a.newSiteURL,true);delete f.args["params"]["newSiteURL"]}if(a.hostName!=undefined){f.args["params"]["hostName_b64encoded"]=$.base64("btoa",a.hostName,true);delete f.args["params"]["hostName"]}if(a.sourceSiteID!==undefined&&a.sourceSiteID!=""){f.args["params"]["sourceSiteID"]=a.sourceSiteID}if($("#hostPassive").hasClass("active")){f.args["params"]["hostPassive"]=1}if($("#hostSSL").hasClass("active")){f.args["params"]["hostSSL"]=1}if($("#use_ftp").hasClass("active")){f.args["params"]["use_ftp"]=1}if($("#use_sftp").hasClass("active")){f.args["params"]["use_sftp"]=1}f.args["params"]["backupURL"]=false;f.args["params"]["isTestConnection"]=1;var d={};if(b=="installClone"){d.getICTestConnectionResult=1}else{d.stagingGetICTestConnectionResult=1;f.args["params"]["isStaging"]=1}f.requiredData=d;if(f.args.params!=false){doCall(ajaxCallPath,f,"formArrayTestCloneConnection","json","none");$(g).addClass("disabled");$("#stage_this_site").addClass("disabled");$("#totalBtnAction").addClass("disabled")}else{$(".test_conn").removeClass("disabled");$("#stage_this_site").removeClass("disabled")}}function fillCpanelDetailsInit(b){var d=b.divObj;var a=b.reqFunc;if(iwpIsEmpty(d)||iwpIsEmpty(a)){return false}var c={};c.requiredData={};c.requiredData[a]={};c.requiredData[a]["cpUser"]=$("#cpanelUserName_IC").val();c.requiredData[a]["cpPass"]=$("#cpanelPassword_IC").val();c.requiredData[a]["cpHost_b64encoded"]=$.base64("btoa",$("#cpanelURL_IC").val(),true);var f=true;$(".af_validate").each(function(){if($(this).val()==""){f=false;$(this).addClass("error")}});if(f===true){$(d).addClass("disabled");$(d).prepend('<div class="btn_loadingDiv left"></div>');$(".cpanelAutofill .errorMsg").hide();doCall(ajaxCallPath,c,"processFillDetails_IC_Common","json","none")}}function processAppUpdateSettings(b){var a=b.data.appDirPermission;$(".uploads_permission_success").remove();$(".uploads_permission_error").remove();$(".ftpconfig_e").hide();$(".ftpconfig").hide();$(".checking").remove();isConfigWritable=b.data.isConfigWritable;if(b.data.getConfigFTP!=0){if(!isConfigWritable){$(".ftpconfig_e").show()}else{$(".ftpconfig").show()}$(".settings_main_content").find(".FTP_form_con").css({opacity:"0.5"});$(".settings_main_content").find(".FTP_form").addClass("disabled");$(".settings_main_content").find("#FTPHost").attr("disabled",true);$(".settings_main_content").find("#FTPPort").attr("disabled",true);$(".settings_main_content").find("#FTPBase").attr("disabled",true);$(".settings_main_content").find("#FTPUser").attr("disabled",true);$(".settings_main_content").find("#FTPPass").attr("disabled",true);settingsData.data["getSettingsAll"]["settings"]["FTP"]=b.data.getConfigFTP}else{settingsData.data["getSettingsAll"]["settings"]["FTP"]["config"]=0}if(typeof a.updates!="undefined"&&a.updates){$(".updates_folder").append('<div class="uploads_permission_success" style ="right:6px;" >Temp directory is writable.</div>')}else{$(".updates_folder").append('<div class="uploads_permission_error" style ="right:6px;">[IWP Admin Panel]/updates is not writable. Please set 777 or any writable permission by php to [IWP Admin Panel]/updates.<br></div>')}if(typeof a.uploads!="undefined"&&a.uploads){$(".uploads_folder").append('<div class="uploads_permission_success" style ="right:6px;" >[IWP Admin Panel]/uploads is writable.</div>')}else{$(".uploads_folder").append('<div class="uploads_permission_error" style ="right:6px;">[IWP Admin Panel]/uploads is not writable. Please set 777 or any writable permission by php to [IWP Admin Panel]/uploads.<br></div>')}}function clipboardjsTrigger(){var a=new Clipboard("#copyToClipboard");if(typeof a!="undefined"){a.on("success",function(b){jQuery(".copy_message").show();setTimeout('jQuery(".copy_message").hide();',1000);b.clearSelection()});a.on("error",function(b){e.clearSelection()})}else{$("#copyToClipboard").remove()}}function isFavoritesAlreadyExist(c,b){var d=0;if(c==="plugins"){var a=favourites.plugins}else{var a=favourites.themes}$(a).each(function(f,g){if(g.name===b){d=1}});if(d==1){$("#favAlreadyExist").html(c.toTitleCase().slice(0,-1)+" already exist.Try something else.").show();return true}else{return false}}function isFavoritesGroupAlreadyExist(b,a){var c=0;$.each(favouritesGroupData,function(d,f){if(b===f.type&&a===f.name){c=1}});if(c==1){$("#gname").parent(".dialog_content.inner_cont").css("margin","20px 20px 30px");$("#favAlreadyExist").show();return true}else{return false}}function manageInitialSetupUsageStatsLinks(a){linkPositions=["initialSetupSecurityTab","initialSetupUsageStats"];$(".th_sub.rep_sprite").find("a").removeClass("rep_sprite_backup completed current");$(".linkDisabled[refclass="+a+"]").addClass("rep_sprite_backup current");$(".th_sub.rep_sprite").find("a").removeClass("linkDisabled");var c=jQuery.inArray(a,linkPositions);for(var b=0;b<c;b++){$(".th_sub.rep_sprite").find("a[refclass="+linkPositions[b]+"]").addClass("rep_sprite_backup completed")}for(var b=(linkPositions.length)-1;b>c;b--){$(".th_sub.rep_sprite").find("a[refclass="+linkPositions[b]+"]").addClass("linkDisabled")}}function iwpIsEmpty(a){if(a===undefined){return true}else{if(a===null){return true}else{if(a==""){return true}else{if(a=="undefined"){return true}else{return false}}}}}function arrUpdateCount(a){if(iwpIsEmpty(a)){return 0}var b=0;$.each(a,function(d,c){$.each(c,function(g,f){if(iwpIsEmpty(f.hiddenItem)||f.hiddenItem==false){b++;return false}})});return b}function arrLenOneLevel(a){if(iwpIsEmpty(a)){return 0}var b=0;$.each(a,function(d,c){b++});return b}function getRecentUpdatesStatus(){var a={};a.requiredData={};a.requiredData["getUpdateCounts"]=1;doCall(ajaxCallPath,a,"getRecentUpdatesStatusResponse")}function getRecentUpdatesStatusResponse(a){mainData=a.data.getUpdateCounts;pluginsUpdateCount=mainData.pluginsCount;themesUpdateCount=mainData.themesCount;WPUpdateCount=mainData.core;transUpdateCount=mainData.translationsCount;hiddenUpdateCount=mainData.hiddenUpdateCounts;siteErrorCount=mainData.siteErrorCount;vulnerableSiteIDs=mainData.vulnerableSiteIDs;WPVulnsHiddenCount=mainData.WPVulnsHiddenCount;totalUpdateCount=mainData.totalUpdateCount;totalPluginUpdateCount=mainData.totalPluginUpdateCount;totalThemeUpdateCount=mainData.totalThemeUpdateCount;totalCoreUpdateCount=mainData.totalCoreUpdateCount;totalTranslationUpdateCount=mainData.totalTranslationUpdateCount;$("#totalUpdateCount").text(totalUpdateCount);if(typeof isWpVulnsAlert!="undefined"&&!iwpIsEmpty(isWpVulnsAlert)&&isWpVulnsAlert==1){securityUpdateCount=mainData.WPVulnsCount;affectedCount=mainData.affectedCount;vulnsPluginUpdateCount=mainData.vulnsPluginUpdateCount;vulnsCoreUpdateCount=mainData.vulnsCoreUpdateCount;vulnsThemeUpdateCount=mainData.vulnsThemeUpdateCount;if(typeof isWpVulnsAlert!="undefined"&&!iwpIsEmpty(isWpVulnsAlert)&&isWpVulnsAlert==1){checkAndShowSecurityUpdatesCount(1);updateSiteVulnsStatus()}}if(typeof mainJson.updatePageEmailCronReqNotification!="undefined"&&mainJson.updatePageEmailCronReqNotification==1){$("#pageContent").prepend('<div class="setCronNotification" style="border-left: 2px solid #d0b000; position:relative; background-color: #FEF5C2; padding: 10px;">If you want to receive update notification emails, you need to set up a cron job. Go to <a id="goCronSettings">Settings -> Cron</a> to set it up now. <div class="dismiss_notification"><a>Dismiss</a></div></div>')}}function processGetOnlyHiddenUpdateCounts(a){mainData=a.data.getOnlyHiddenUpdateCounts;hiddenPluginsUpdateCount=mainData.hiddenPluginsCount;hiddenThemesUpdateCount=mainData.hiddenThemesCount;hiddenWPUpdateCount=mainData.hiddenCore;hiddenTransUpdateCount=mainData.hiddenTranslationsCount;loadUpdateConfirmationPopup(tempConfirmObject,"hiddenUpdates")}function pluginsThemesSelection(c,b,a,d){var f=b.toString().split("_");b=$("."+b);if(c=="active_all"){if(!$(b).not(".ind_row_cont,.disabled").hasClass("active")){$(b).not(".ind_row_cont,.disabled").addClass("active");$($(".delete_"+f[1])).not(".ind_row_cont,.disabled").removeClass("active")}else{$(b).not(".ind_row_cont,.disabled").removeClass("active")}}else{if(c=="deactivate_all"){if(!$(b).not(".ind_row_cont,.disabled").hasClass("active")){$(b).not(".ind_row_cont,.disabled").addClass("active")}else{$(b).not(".ind_row_cont,.disabled").removeClass("active")}}else{if(c=="delete_all"){if(!$(b).not(".ind_row_cont,.disabled").hasClass("active")){$(b).not(".ind_row_cont,.disabled").addClass("active");$($(".active_"+f[1])).not(".ind_row_cont,.disabled").removeClass("active")}else{$(b).not(".ind_row_cont,.disabled").removeClass("active")}}}}}function reloadStatsByGroup(a){siteIDs=a.data.getSitesByGroupID.siteIDs;var b={};b.args={};b.args["siteIDs"]={};b.args["siteIDs"]=siteIDs;b.args["params"]={};b.args["params"]["forceRefresh"]=1;$(".fa.fa-repeat").addClass("fa-spin").css("color","#49a1de");$("#reloadStats").addClass("disabled");$(".btn_reload_drop").addClass("disabled");$("#reloadStats").closest("div").addClass("disabled");$(".btn_reload_drop").closest("div").addClass("disabled");b.action="getStats";b.requiredData={};if(typeof isComment!="undefined"){b.requiredData["manageCommentsGetRecent"]=1}if(typeof isGoogle!="undefined"){if(isGoogle=="1"){b.requiredData["googleAnalyticsEditSiteOptions"]=1}}b.requiredData["getSitesUpdates"]=1;b.requiredData["getClientUpdateAvailableSiteIDs"]=1;b.requiredData["getRecentPluginsStatus"]=1;b.requiredData["getRecentThemesStatus"]=1;b.requiredData["getSites"]=1;doCall(ajaxCallPath,b,"formArrayRefreshStats","json","none")}function loadSitesViewUpdatesContent(a){getRecentUpdatesStatusResponse(a);var b=groupGenerate(1,"bottom");$(".update-lable").show();loadUpdateContent();currentUpdatePage="siteViewUpdateContent";$(".update_by_group").show();if(typeof isWpVulnsAlert!="undefined"&&!iwpIsEmpty(isWpVulnsAlert)&&isWpVulnsAlert==1){checkAndShowSecurityUpdatesCount()}$("#siteViewUpdateContent").html(a.data.getSitesViewUpdatesContent.HTML);if(typeof a.data.getSitesViewUpdatesContent.data.searchKey!="undefined"){$(".searchSiteUpdate").val(a.data.getSitesViewUpdatesContent.data.searchKey);$(".update_search").show()}$(".groupView").html(b);$(".searchSiteUpdate").addClass("siteSearch");$(".update_by_group .select_group_toolbar").select2({width:"177px"});if(typeof isStaging!="undefined"&&isStaging==1){stagingReplaceUpdateButtonWithStagingButton()}}function loadSitesViewPageContent(a){if(typeof a.data.getSitesViewUpdatesContent.data.groupID=="undefined"){var b=groupGenerate(1,"bottom")}$(".update_by_group").show();currentUpdatePage="siteViewUpdateContent";$(".searchSiteUpdate").addClass("siteSearch");$(".update_overall").text("Update All Sites");$(".update_overall").attr("view","sites");$(".update-lable").show();$(".update_in_page").show();$(".searchSiteUpdate").show();$("#siteViewUpdateContent").html(a.data.getSitesViewUpdatesContent.HTML);$(".searchSiteUpdate").val(a.data.getSitesViewUpdatesContent.data.searchKey);$(".groupView").html(b);if(typeof a.data.getSitesViewUpdatesContent.data.groupID=="undefined"){$(".update_by_group .select_group_toolbar").select2({width:"177px"})}if(typeof isStaging!="undefined"&&isStaging==1){stagingReplaceUpdateButtonWithStagingButton()}}function loadSitesRowDetailedUpdates(b){var c=b.data.getSitesRowDetailedUpdates.HTML;var a=b.data.getSitesRowDetailedUpdates.siteID;$(".ind_row_cont[siteid="+a+"]").find(".row_summary").hide();$(".ind_row_cont[siteid="+a+"]").find(".appendRowDetaile").html(c);$(".ind_row_cont[siteid="+a+"]").find(".row_detailed").show();if(typeof isStaging!="undefined"&&isStaging==1){stagingReplaceUpdateButtonWithStagingButton(a)}}function loadPluginsViewUpdatesContent(a){$(".searchSiteUpdate").show();$(".searchSiteUpdate").addClass("pluginsSearch");$(".update-lable").hide();$(".update_by_group").hide();$(".update_in_page").show();$(".update_overall").text("Update All Plugins");$(".update_overall").attr("view","plugins");$(".update_overall").removeClass("update_group");$(".update_overall").removeClass("disabled");$("#siteViewUpdateContent").html(a.data.getPluginsViewUpdatesContent.HTML);$(".searchSiteUpdate").val(a.data.getPluginsViewUpdatesContent.data.searchKey);if(typeof isStaging!="undefined"&&isStaging==1){stagingReplaceUpdateButtonWithStagingButton()}}function loadThemesViewUpdatesContent(a){$(".searchSiteUpdate").show();$(".searchSiteUpdate").addClass("themesSearch");$(".searchSiteUpdate").removeClass("pluginsSearch");$(".update-lable").hide();$(".update_in_page").show();$(".update_by_group").hide();$(".update_overall").text("Update All Themes");$(".update_overall").attr("view","themes");$(".update_overall").removeClass("update_group");$(".update_overall").removeClass("disabled");$("#siteViewUpdateContent").html(a.data.getThemesViewUpdatesContent.HTML);$(".searchSiteUpdate").val(a.data.getThemesViewUpdatesContent.data.searchKey);if(typeof isStaging!="undefined"&&isStaging==1){stagingReplaceUpdateButtonWithStagingButton()}}function loadWPViewUpdatesContent(a){$(".searchSiteUpdate").show();$(".update_in_page").show();$(".searchSiteUpdate").addClass("coreSearch");$(".update-lable").hide();$(".update_by_group").hide();$(".update_overall").text("Update All WordPress");$(".update_overall").attr("view","core");$(".update_overall").removeClass("update_group");$(".update_overall").removeClass("disabled");$("#siteViewUpdateContent").html(a.data.getWPViewUpdatesContent.HTML);$(".searchSiteUpdate").val(a.data.getWPViewUpdatesContent.data.searchKey);if(typeof isStaging!="undefined"&&isStaging==1){stagingReplaceUpdateButtonWithStagingButton()}}function loadTranslationViewUpdatesContent(a){$(".searchSiteUpdate").hide();$(".update-lable").hide();$(".info_bar").hide();$(".update_by_group").hide();$(".update_overall").text("Update All Translations");$(".update_overall").addClass("update_group");$(".update_overall").attr("view","translations");$("#siteViewUpdateContent").html(a.data.getTranslationViewUpdatesContent.HTML);$(".searchSiteUpdate").val(a.data.getTranslationViewUpdatesContent.data.searchKey);if(typeof isStaging!="undefined"&&isStaging==1){stagingReplaceUpdateButtonWithStagingButton()}}function loadPluginsRowDetailedUpdates(a){var c=a.data.getPluginsRowDetailedUpdates.HTML;var b=a.data.getPluginsRowDetailedUpdates.itemID;$(".ind_row_cont[itemID="+b+"]").find(".row_summary").hide();$(".ind_row_cont[itemID="+b+"]").find(".appendRowDetaile").html(c);$(".ind_row_cont[itemID="+b+"]").find(".row_detailed").show();if(typeof isStaging!="undefined"&&isStaging==1){stagingReplaceUpdateButtonWithStagingButton(b)}}function loadThemesRowDetailedUpdates(a){var c=a.data.getThemesRowDetailedUpdates.HTML;var b=a.data.getThemesRowDetailedUpdates.itemID;$(".ind_row_cont[itemID="+b+"]").find(".row_summary").hide();$(".ind_row_cont[itemID="+b+"]").find(".appendRowDetaile").html(c);$(".ind_row_cont[itemID="+b+"]").find(".row_detailed").show();if(typeof isStaging!="undefined"&&isStaging==1){stagingReplaceUpdateButtonWithStagingButton(b)}}function loadCoreRowDetailedUpdates(a){var c=a.data.getCoreRowDetailedUpdates.HTML;var b=a.data.getCoreRowDetailedUpdates.itemID;$(".ind_row_cont[itemID="+b+"]").find(".row_summary").hide();$(".ind_row_cont[itemID="+b+"]").find(".appendRowDetaile").html(c);$(".ind_row_cont[itemID="+b+"]").find(".row_detailed").show();if(typeof isStaging!="undefined"&&isStaging==1){stagingReplaceUpdateButtonWithStagingButton(b)}}function loadTranslationsRowDetailedUpdates(a){var c=a.data.getTranslationsRowDetailedUpdates.HTML;var b=a.data.getTranslationsRowDetailedUpdates.itemID;$(".ind_row_cont[itemID="+b+"]").find(".row_summary").hide();$(".ind_row_cont[itemID="+b+"]").find(".appendRowDetaile").html(c);$(".ind_row_cont[itemID="+b+"]").find(".row_detailed").show();if(typeof isStaging!="undefined"&&isStaging==1){stagingReplaceUpdateButtonWithStagingButton(b)}}function loadHiddenViewUpdatesContent(a){if(typeof a.data.getHiddenViewUpdatesContent.data.groupID=="undefined"){var b=groupGenerate(1,"bottom")}$(".searchSiteUpdate").show();$(".searchSiteUpdate").addClass("hiddenSearch");$(".update_in_page").show();$(".update-lable").show();$(".update_by_group").show();$(".update_overall").text("Update All Hidden");$(".update_overall").attr("view","hiddenUpdates");$(".update_overall").removeClass("update_group");$(".update_overall").removeClass("disabled");$("#siteViewUpdateContent").html(a.data.getHiddenViewUpdatesContent.HTML);$(".groupView").html(b);if(typeof a.data.getHiddenViewUpdatesContent.data.groupID=="undefined"){$(".update_by_group .select_group_toolbar").select2({width:"177px"})}if(typeof isStaging!="undefined"&&isStaging==1){stagingReplaceUpdateButtonWithStagingButton()}}function loadHiddenSearchViewUpdatesContent(a){var b=groupGenerate(1,"bottom");$(".update-lable").show();loadUpdateContent();$(".update_by_group").show();if(typeof isWpVulnsAlert!="undefined"&&!iwpIsEmpty(isWpVulnsAlert)&&isWpVulnsAlert==1){checkAndShowSecurityUpdatesCount()}$("#siteViewUpdateContent").html(a.data.getHiddenViewUpdatesContent.HTML);if(typeof a.data.getHiddenViewUpdatesContent.data.searchKey!="undefined"){$(".searchSiteUpdate").val(a.data.getHiddenViewUpdatesContent.data.searchKey);$(".update_search").show()}$(".groupView").html(b);$(".searchSiteUpdate").addClass("hiddenSearch");$(".update_by_group .select_group_toolbar").select2({width:"177px"});if(typeof isStaging!="undefined"&&isStaging==1){stagingReplaceUpdateButtonWithStagingButton()}}function loadHiddenUpdatesViewPageContent(a){var b=groupGenerate(1,"bottom");$("#siteViewUpdateContent").html(a.data.getHiddenViewUpdatesContent);$(".groupView").html(b);$(".update_overall").removeClass("update_group");$(".update_overall").removeClass("disabled");$(".update_by_group .select_group_toolbar").select2({width:"177px"});if(typeof isStaging!="undefined"&&isStaging==1){stagingReplaceUpdateButtonWithStagingButton()}}function loadHiddenUpdatesRowDetailedUpdates(b){var c=b.data.getHiddenUpdatesRowDetailedUpdates.HTML;var a=b.data.getHiddenUpdatesRowDetailedUpdates.siteID;$(".ind_row_cont[siteid="+a+"]").find(".row_summary").hide();$(".ind_row_cont[siteid="+a+"]").find(".appendRowDetaile").html(c);$(".ind_row_cont[siteid="+a+"]").find(".row_detailed").show();if(typeof isStaging!="undefined"&&isStaging==1){stagingReplaceUpdateButtonWithStagingButton(a)}}$("#searchbox").live("keyup",function(b){if(b.keyCode==13){var c={};var a=$(".update_by_group :selected").val();if(typeof a=="undefined"||a==null||a=="0"){a=null}c.requiredData={};c.requiredData["bypassHistoryAjaxCall"]=1;if($(".searchSiteUpdate").hasClass("siteSearch")){c.requiredData["getSitesViewUpdatesContent"]={};c.requiredData["getSitesViewUpdatesContent"]["searchKey"]=$(this).val();c.requiredData["getSitesViewUpdatesContent"]["groupID"]=a;doCall(ajaxCallPath,c,"loadSitesViewPageContent")}else{if($(".searchSiteUpdate").hasClass("pluginsSearch")){c.requiredData["getPluginsViewUpdatesContent"]={};c.requiredData["getPluginsViewUpdatesContent"]["searchKey"]=$(this).val();doCall(ajaxCallPath,c,"loadPluginsViewUpdatesContent")}else{if($(".searchSiteUpdate").hasClass("themesSearch")){c.requiredData["getThemesViewUpdatesContent"]={};c.requiredData["getThemesViewUpdatesContent"]["searchKey"]=$(this).val();doCall(ajaxCallPath,c,"loadThemesViewUpdatesContent")}else{if($(".searchSiteUpdate").hasClass("coreSearch")){c.requiredData["getWPViewUpdatesContent"]={};c.requiredData["getWPViewUpdatesContent"]["searchKey"]=$(this).val();doCall(ajaxCallPath,c,"loadWPViewUpdatesContent")}else{if($(".searchSiteUpdate").hasClass("hiddenSearch")){c.requiredData["getHiddenViewUpdatesContent"]={};c.requiredData["getHiddenViewUpdatesContent"]["searchKey"]=$(this).val();c.requiredData["getHiddenViewUpdatesContent"]["groupID"]=a;doCall(ajaxCallPath,c,"loadHiddenViewUpdatesContent")}else{if($(".searchSiteUpdate").hasClass("WPVulnsSearch")){c.requiredData["WPVulnsGetWPVulnsViewUpdatesContent"]={};c.requiredData["WPVulnsGetWPVulnsViewUpdatesContent"]["searchKey"]=$(this).val();c.requiredData["WPVulnsGetWPVulnsViewUpdatesContent"]["groupID"]=a;doCall(ajaxCallPath,c,"WPVulnsLoadWPVulnsViewUpdatesContent")}}}}}}}});function loadSitesErrorViewContent(a){$(".update-lable").hide();$(".update_by_group").hide();$(".update_overall").hide();$(".info_bar").hide();$("#siteViewUpdateContent").html(a.data.getSitesErrorViewContent)}function loadHistoryPanelDetailedHTML(a){var b=a.data.getHistoryPanelDetailedHTML.actionid;var c=a.data.getHistoryPanelDetailedHTML.HTML;$(".queue_cont").find(".hisDetail_"+b).html(c);makeHistorySelection(this,"queue_cont",b)};